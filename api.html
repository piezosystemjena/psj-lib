

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; psj-lib Python Library</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5349f25f" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/style_override_css/style_override.css?v=6a36a437" />
      <link rel="stylesheet" type="text/css" href="_static/style_override_css/color_roles.css?v=7881a399" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="shortcut icon" href="_static/favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Base Capabilities" href="base_capabilities.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            psj-lib Python Library
              <img src="_static/piezosystem_logo_white.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="connecting.html">Connecting to Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Device Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="d_drive.html">d-Drive and 30DV50/300</a></li>
<li class="toctree-l1"><a class="reference internal" href="base_capabilities.html">Base Capabilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-navigation">Quick Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-structure">Package Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-reference">Quick Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-classes">Main Classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#core-modules">Core Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices">Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.base.piezo_device">Base Device Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.piezo_device.PiezoDevice"><code class="docutils literal notranslate"><span class="pre">PiezoDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.piezo_channel.PiezoChannel"><code class="docutils literal notranslate"><span class="pre">PiezoChannel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.d_drive_family.d_drive.d_drive_device">d-Drive Device</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice"><code class="docutils literal notranslate"><span class="pre">DDriveDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel"><code class="docutils literal notranslate"><span class="pre">DDriveChannel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device">PSJ 30DV Device</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice"><code class="docutils literal notranslate"><span class="pre">PSJ30DVDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel.PSJ30DVChannel"><code class="docutils literal notranslate"><span class="pre">PSJ30DVChannel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#base-capabilities">Base Capabilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.status">Status and Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.position">Position Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.pid_controller">Control System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.notch_filter">Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.modulation_source">Signal Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.data_recorder">Data Acquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-psj_lib.devices.base.capabilities.units">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.d_drive_family.capabilities.d_drive_status_register">d-Drive Specific Capabilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister"><code class="docutils literal notranslate"><span class="pre">DDriveStatusRegister</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus"><code class="docutils literal notranslate"><span class="pre">DDriveWaveformGeneratorStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType"><code class="docutils literal notranslate"><span class="pre">DDriveScanType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator"><code class="docutils literal notranslate"><span class="pre">DDriveWaveformGenerator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType"><code class="docutils literal notranslate"><span class="pre">DDriveWaveformType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder"><code class="docutils literal notranslate"><span class="pre">DDriveDataRecorder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel"><code class="docutils literal notranslate"><span class="pre">DDriveDataRecorderChannel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut"><code class="docutils literal notranslate"><span class="pre">DDriveTriggerOut</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes"><code class="docutils literal notranslate"><span class="pre">DDriveModulationSourceTypes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource"><code class="docutils literal notranslate"><span class="pre">DDriveMonitorOutputSource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.base.exceptions">Exceptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ActuatorNotConnected"><code class="docutils literal notranslate"><span class="pre">ActuatorNotConnected</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.AdmissibleParameterRangeExceeded"><code class="docutils literal notranslate"><span class="pre">AdmissibleParameterRangeExceeded</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.CommandParameterCountExceeded"><code class="docutils literal notranslate"><span class="pre">CommandParameterCountExceeded</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError"><code class="docutils literal notranslate"><span class="pre">DeviceError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorCode"><code class="docutils literal notranslate"><span class="pre">ErrorCode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorNotSpecified"><code class="docutils literal notranslate"><span class="pre">ErrorNotSpecified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.Overload"><code class="docutils literal notranslate"><span class="pre">Overload</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ParameterLockedOrReadOnly"><code class="docutils literal notranslate"><span class="pre">ParameterLockedOrReadOnly</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ParameterMissing"><code class="docutils literal notranslate"><span class="pre">ParameterMissing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ParameterTooHigh"><code class="docutils literal notranslate"><span class="pre">ParameterTooHigh</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ParameterTooLow"><code class="docutils literal notranslate"><span class="pre">ParameterTooLow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.Underload"><code class="docutils literal notranslate"><span class="pre">Underload</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.UnknownChannel"><code class="docutils literal notranslate"><span class="pre">UnknownChannel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.exceptions.UnknownCommand"><code class="docutils literal notranslate"><span class="pre">UnknownCommand</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-psj_lib.devices.base.piezo_types">Type Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.piezo_types.ActorType"><code class="docutils literal notranslate"><span class="pre">ActorType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.piezo_types.DeviceInfo"><code class="docutils literal notranslate"><span class="pre">DeviceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.base.piezo_types.SensorType"><code class="docutils literal notranslate"><span class="pre">SensorType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice"><code class="docutils literal notranslate"><span class="pre">DetectedDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException"><code class="docutils literal notranslate"><span class="pre">DeviceUnavailableException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.ProtocolException"><code class="docutils literal notranslate"><span class="pre">ProtocolException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TimeoutException"><code class="docutils literal notranslate"><span class="pre">TimeoutException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo"><code class="docutils literal notranslate"><span class="pre">TransportProtocolInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType"><code class="docutils literal notranslate"><span class="pre">TransportType</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#common-patterns">Common Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-creation">Device Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connection-management">Connection Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#channel-access">Channel Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="#capability-access">Capability Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#type-hints">Type Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#async-patterns">Async Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sequential-operations">Sequential Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallel-operations">Parallel Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timeouts">Timeouts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#index">Index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">psj-lib Python Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<p>Complete API reference for psj-lib.</p>
<section id="quick-navigation">
<h2>Quick Navigation<a class="headerlink" href="#quick-navigation" title="Link to this heading"></a></h2>
<p><strong>Core Components</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#devices">Devices</a> - Device and channel classes</p></li>
<li><p><a class="reference internal" href="#base-capabilities">Base Capabilities</a> - Common capabilities across all devices</p></li>
<li><p><a class="reference internal" href="#d-drive-specific-capabilities">d-Drive Specific Capabilities</a> - d-Drive enhanced features</p></li>
<li><p><a class="reference internal" href="#exceptions">Exceptions</a> - Error handling</p></li>
<li><p><a class="reference internal" href="#type-definitions">Type Definitions</a> - Type aliases and enums</p></li>
</ul>
<p><strong>Base Capabilities by Category</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#status-and-monitoring">Status and Monitoring</a> - Status register, temperature, actuator info</p></li>
<li><p><a class="reference internal" href="#position-control">Position Control</a> - Setpoint, position, closed-loop control, slew rate</p></li>
<li><p><a class="reference internal" href="#control-system">Control System</a> - PID controller, pre-control factor</p></li>
<li><p><a class="reference internal" href="#filters">Filters</a> - Notch filter, low-pass filters, error filtering</p></li>
<li><p><a class="reference internal" href="#signal-generation">Signal Generation</a> - Modulation source, monitor output, waveform generation</p></li>
<li><p><a class="reference internal" href="#data-acquisition">Data Acquisition</a> - Data recorder, trigger output</p></li>
<li><p><a class="reference internal" href="#configuration">Configuration</a> - Units, factory reset, fan control</p></li>
</ul>
<p><strong>Usage Patterns</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#common-patterns">Common Patterns</a> - Quick reference for typical operations</p></li>
<li><p><a class="reference internal" href="#async-patterns">Async Patterns</a> - Async/await usage examples</p></li>
<li><p><a class="reference internal" href="#type-hints">Type Hints</a> - Type annotation support</p></li>
</ul>
</section>
<section id="package-structure">
<h2>Package Structure<a class="headerlink" href="#package-structure" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>psj_lib/
├── devices/
│   ├── base/                    # Base device classes (public: PiezoDevice, PiezoChannel)
│   │   ├── piezo_device.py
│   │   ├── piezo_channel.py
│   │   ├── exceptions.py
│   │   └── capabilities/        # Base capabilities (all public)
│   ├── d_drive_family/          # d-Drive family (d-Drive + 30DV series)
│   │   ├── d_drive/             # d-Drive modular system
│   │   │   ├── d_drive_device.py
│   │   │   └── d_drive_channel.py
│   │   ├── psj_30dv/             # PSJ 30DV single-channel device
│   │   │   ├── psj_30dv_device.py
│   │   │   └── psj_30dv_channel.py
│   │   └── capabilities/        # d-Drive family capabilities (all public)
│   │       ├── d_drive_status_register.py
│   │       ├── d_drive_waveform_generator.py
│   │       └── ...
│   └── transport_protocol/      # Internal (only TransportType, DiscoverFlags, TransportProtocolInfo exported)
└── _internal/                   # Internal utilities
</pre></div>
</div>
<p><strong>Note</strong>: Only classes and types exported in <code class="docutils literal notranslate"><span class="pre">psj_lib.__init__.py</span></code> are part of the public API.
Internal modules like <code class="docutils literal notranslate"><span class="pre">device_factory</span></code> and <code class="docutils literal notranslate"><span class="pre">transport_protocol</span></code> implementation details should not be accessed directly by end users.</p>
</section>
<section id="quick-reference">
<h2>Quick Reference<a class="headerlink" href="#quick-reference" title="Link to this heading"></a></h2>
<section id="main-classes">
<h3>Main Classes<a class="headerlink" href="#main-classes" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveDevice</span><span class="p">,</span> <span class="n">TransportType</span><span class="p">,</span> <span class="n">DiscoverFlags</span>
</pre></div>
</div>
</section>
</section>
<section id="core-modules">
<h2>Core Modules<a class="headerlink" href="#core-modules" title="Link to this heading"></a></h2>
<section id="module-psj_lib.devices">
<span id="devices"></span><h3>Devices<a class="headerlink" href="#module-psj_lib.devices" title="Link to this heading"></a></h3>
</section>
<section id="module-psj_lib.devices.base.piezo_device">
<span id="base-device-classes"></span><h3>Base Device Classes<a class="headerlink" href="#module-psj_lib.devices.base.piezo_device" title="Link to this heading"></a></h3>
<p>Base classes for piezoelectric device communication and control.</p>
<p>This module provides the generic PiezoDevice base class that handles low-level
communication, command caching, synchronization, and channel management for
piezoelectric amplifiers and controllers.</p>
<p>The PiezoDevice class is designed to be subclassed by device-specific
implementations (e.g., d-Drive, NV200) which define their specific command
sets, capabilities, and behaviors.</p>
<dl class="simple">
<dt>Key Features:</dt><dd><ul class="simple">
<li><p>Async command execution with automatic response parsing</p></li>
<li><p>Optional command caching to reduce communication overhead</p></li>
<li><p>Reentrant async locking for thread-safe access</p></li>
<li><p>Multi-channel device support</p></li>
<li><p>Backup/restore of device configurations</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PiezoDevice</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generic base class for piezoelectric amplifier and controller devices.</p>
<p>PiezoDevice provides a comprehensive async interface for communicating with
piezoelectric devices over various transport protocols (serial or Telnet).
It encapsulates low-level device commands, response parsing, synchronization,
and optional result caching.</p>
<p>This class is designed to be subclassed by concrete device implementations
(e.g., DDriveDevice, NV200Device) which define specific command sets,
capabilities, and channel configurations.</p>
<dl>
<dt>Command Caching:</dt><dd><p>PiezoDevice supports intelligent caching of command parameters/values to
reduce latency from frequent read operations. Each read over serial/Telnet
can add several milliseconds of latency, so caching significantly improves performance
for applications that repeatedly query device state (e.g., GUI monitoring).</p>
<p>Caching behavior:
- Only commands in CACHEABLE_COMMANDS set are cached
- Cache is automatically invalidated on write operations
- Enable/disable per-instance via enable_cmd_cache() method</p>
</dd>
<dt>Thread Safety:</dt><dd><p>All device operations use a reentrant async lock, ensuring safe concurrent
access from multiple async tasks or threads. Use <code class="xref any docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span> <span class="pre">device.lock:</span></code>
to group multiple operations atomically.</p>
</dd>
<dt>Multi-Channel Support:</dt><dd><p>Devices with multiple actuator channels expose them via the <a class="reference internal" href="#psj_lib.devices.base.piezo_device.PiezoDevice.channels" title="psj_lib.devices.base.piezo_device.PiezoDevice.channels"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">channels</span></code></a>
property. Each channel can be controlled independently.</p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Caching should ONLY be used when the device has exclusive access (no other
applications modifying device state). If multiple applications can access
the device (e.g., both serial and Telnet), disable caching to prevent stale
data issues (e.g. by calling enable_cmd_cache(False)).</p>
</div>
<dl>
<dt>Class Attributes:</dt><dd><dl class="simple">
<dt>DEVICE_ID (str | None): Unique identifier for this device model. Subclasses</dt><dd><p>must set this to auto-register with the DeviceFactory.</p>
</dd>
</dl>
<p>CACHEABLE_COMMANDS (set[str]): Commands whose results can be cached.
BACKUP_COMMANDS (set[str]): Commands to include in device backup operations.
DEFAULT_TIMEOUT_SECS (float): Default timeout for command operations (0.6s).
FRAME_DELIMITER_WRITE (bytes): Byte sequence appended to commands (default: CRLF).
FRAME_DELIMITER_READ (bytes): Byte sequence expected at end of responses (default: CRLF).</p>
</dd>
<dt>Instance Attributes:</dt><dd><p>_transport: TransportProtocol instance handling low-level communication
_cache: CommandCache instance for caching read operations
_lock: Reentrant async lock for thread-safe access
_channels: Dictionary mapping channel IDs to PiezoChannel instances</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Discover and connect to a device</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="n">PiezoDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access device information</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">device_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2"> on </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">transport_info</span><span class="o">.</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute commands with caching</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Read (cached)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">10.5</span><span class="p">])</span>  <span class="c1"># Write (invalidates cache)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Thread-safe grouped operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">with</span> <span class="n">device</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;cmd1&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;cmd2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">200</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Backup and restore configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">([</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... change settings ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">restore</span><span class="p">(</span><span class="n">backup</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Clean shutdown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Subclasses must implement:
- _discover_channels(): Initialize the _channels dictionary
- _is_device_type(): Verify connected device matches expected type
- Set DEVICE_ID to a unique string for factory registration</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.BACKUP_COMMANDS">
<span class="sig-name descname"><span class="pre">BACKUP_COMMANDS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.BACKUP_COMMANDS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.CACHEABLE_COMMANDS">
<span class="sig-name descname"><span class="pre">CACHEABLE_COMMANDS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.CACHEABLE_COMMANDS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.DEFAULT_TIMEOUT_SECS">
<span class="sig-name descname"><span class="pre">DEFAULT_TIMEOUT_SECS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.6</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.DEFAULT_TIMEOUT_SECS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.DEVICE_ID">
<span class="sig-name descname"><span class="pre">DEVICE_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.DEVICE_ID" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.FRAME_DELIMITER_READ">
<span class="sig-name descname"><span class="pre">FRAME_DELIMITER_READ</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">b'\r\n'</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.FRAME_DELIMITER_READ" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.FRAME_DELIMITER_WRITE">
<span class="sig-name descname"><span class="pre">FRAME_DELIMITER_WRITE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">b'\r\n'</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.FRAME_DELIMITER_WRITE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transport_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType"><span class="pre">TransportType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a piezo device with the specified transport connection.</p>
<p>Creates a new device instance configured to communicate via the specified
transport protocol. The device is not connected until connect() is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transport_type</strong> – Communication protocol to use (SERIAL or TELNET).
SERIAL: Direct connection via RS-232, USB-serial adapter
TELNET: Network connection via TCP/IP (typically using Lantronix adapter)</p></li>
<li><p><strong>identifier</strong> – Connection identifier specific to the transport type:
For SERIAL: Port name (e.g., ‘COM3’, ‘/dev/ttyUSB0’)
For TELNET: IP address or hostname (e.g., ‘192.168.1.100’)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create device with serial connection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">transport_type</span><span class="o">=</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">identifier</span><span class="o">=</span><span class="s1">&#39;/dev/ttyUSB0&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create device with Telnet connection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">transport_type</span><span class="o">=</span><span class="n">TransportType</span><span class="o">.</span><span class="n">TELNET</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">identifier</span><span class="o">=</span><span class="s1">&#39;192.168.1.100&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Must call connect() before using</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The device is not connected after initialization. Call connect()
to establish communication before issuing commands.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.backup">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backup_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.backup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.backup" title="Link to this definition"></a></dt>
<dd><p>Create a backup of device and channel settings.</p>
<p>Reads and stores current values of specified commands and all channel
settings. The backup can later be restored using restore() method.
Cache is automatically cleared before backup to ensure fresh values.</p>
<p>The backup includes:
1. All channel-specific settings (from each channel’s BACKUP_COMMANDS)
2. Device-level commands specified in backup_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backup_list</strong> – List of device-level command names to backup.
If None, the default BACKUP_COMMANDS list of the device is used.
Example: [‘modsrc’, ‘notchon’, ‘sr’, ‘reclen’]</p></li>
<li><p><strong>backup_channels</strong> – If True, backs up all channel settings automatically. (Default: True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary mapping command strings to their response values.
Channel commands are formatted as ‘command,channel_id’.
Can be passed to restore() to recreate this configuration.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Backup specific device settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">([</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;mode&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make changes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">15.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Restore original settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">restore</span><span class="p">(</span><span class="n">backup</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Backup includes all channels automatically</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">([</span><span class="s1">&#39;global_setting&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># backup contains: {&#39;voltage,0&#39;: [&#39;10.0&#39;], &#39;voltage,1&#39;: [&#39;12.0&#39;], ...}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Cache is cleared before backup to ensure fresh values</p></li>
<li><p>Channel settings are backed up automatically</p></li>
<li><p>Backup format matches restore() input requirements</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.channels">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.piezo_channel.PiezoChannel" title="psj_lib.devices.base.piezo_channel.PiezoChannel"><span class="pre">PiezoChannel</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.channels" title="Link to this definition"></a></dt>
<dd><p>Get dictionary of available device channels.</p>
<p>Multi-channel devices expose their channels through this property,
allowing independent control of each actuator output. Channel IDs
are typically 0-based integers (0, 1, 2, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary mapping channel IDs (int) to PiezoChannel instances.
Returns empty dict before channels are discovered during connect().</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>  <span class="c1"># Discovers channels</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access specific channel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel_0</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel ID: </span><span class="si">{</span><span class="n">channel_0</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Iterate all channels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ch_id</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check number of channels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_channels</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device has </span><span class="si">{</span><span class="n">num_channels</span><span class="si">}</span><span class="s2"> channels&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Channels are populated during connect() via _discover_channels()</p></li>
<li><p>Single-channel devices may only have one channel (ID 0)</p></li>
<li><p>Channel objects provide access to channel-specific capabilities</p></li>
<li><p>Each channel can be controlled independently</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.clear_cmd_cache">
<span class="sig-name descname"><span class="pre">clear_cmd_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.clear_cmd_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.clear_cmd_cache" title="Link to this definition"></a></dt>
<dd><p>Clear all cached command results.</p>
<p>Removes all entries from the command cache, forcing subsequent read
operations to query the device hardware. Use this when:
- Device state may have changed externally
- Recovering from errors
- Switching operation modes
- Debugging cache-related issues</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># After external device modification</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">clear_cmd_cache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Fresh read</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># In error recovery</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">val</span><span class="p">])</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">DeviceError</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">device</span><span class="o">.</span><span class="n">clear_cmd_cache</span><span class="p">()</span>  <span class="c1"># Start fresh</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Does not disable caching, only clears current entries</p></li>
<li><p>Next read operations will rebuild cache as normal</p></li>
<li><p>To disable caching entirely, use enable_cmd_cache(False)</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.close">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.close" title="Link to this definition"></a></dt>
<dd><p>Close the connection to the device and release resources.</p>
<p>This method properly shuts down the transport connection and releases
any associated resources (serial ports, network sockets, etc.). Always
call this when finished with the device to prevent resource leaks.</p>
<p>The method is idempotent - it’s safe to call multiple times or on
an already-closed connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong> – May propagate transport-specific exceptions if close fails</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s1">&#39;COM3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">])</span>
<span class="gp">... </span><span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Always close in finally block</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or use async context manager (preferred)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">with</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="k">as</span> <span class="n">device</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Automatically closed on exit</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Safe to call on already-closed or non-initialized transport</p></li>
<li><p>Logs debug message if already closed</p></li>
<li><p>Recommended to use in finally block or async context manager</p></li>
<li><p>Automatically clears command cache on close</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.connect">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">auto_adjust_comm_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.connect" title="Link to this definition"></a></dt>
<dd><p>Establish connection to the device and initialize channels.</p>
<p>This method connects to the device via the transport layer, verifies
the device type matches expectations, and discovers available channels.
After successful connection, the device is ready for command execution.</p>
<p>Connection Process:
1. Check if already connected (skip if yes)
2. Establish transport-layer connection
3. Auto-adjust communication parameters if enabled (Telnet only)
4. Verify device type matches expected DEVICE_ID
5. Discover and initialize device channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>auto_adjust_comm_params</strong> – <p>For Telnet connections only, automatically
configure the internal Lantronix XPORT ethernet module for communication.
Sets flow control to XON_XOFF_PASS_TO_HOST mode,
which is required for library to function correctly.
Default: True (recommended)</p>
<p>Set to False only if:
- Using serial connection (parameter is ignored)
- XPORT is already properly configured
- Manual configuration is preferred</p>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException" title="psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException"><strong>DeviceUnavailableException</strong></a> – If:
    - Transport is not initialized
    - Connection to device fails
    - Device type verification fails (wrong device connected)</p></li>
<li><p><strong>TransportException</strong> – If transport-specific connection errors occur</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Standard connection (recommended)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s1">&#39;COM3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connect without auto-configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">TELNET</span><span class="p">,</span> <span class="s1">&#39;192.168.1.100&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">auto_adjust_comm_params</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Verify connection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">device_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected to </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Safe to call multiple times (idempotent if already connected)</p></li>
<li><p>Device type mismatch causes connection to be closed</p></li>
<li><p>Must be called before any device commands</p></li>
<li><p>Channels are not available until connection completes</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.device_info">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device_info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.piezo_types.DeviceInfo" title="psj_lib.devices.base.piezo_types.DeviceInfo"><span class="pre">DeviceInfo</span></a></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.device_info" title="Link to this definition"></a></dt>
<dd><p>Get comprehensive information about the connected device.</p>
<p>Provides a DeviceInfo object containing the device’s model identifier
and transport connection details. This property is useful for logging,
diagnostics, and displaying device information in user interfaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>device_id: Model identifier (e.g., ‘d-drive’, ‘nv200’)</p></li>
<li><dl class="simple">
<dt>transport_info: TransportProtocolInfo with connection details</dt><dd><p>(transport type, identifier, etc.)</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>DeviceInfo object containing</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException" title="psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException"><strong>DeviceUnavailableException</strong></a> – If the transport is not initialized or
    the device is not connected. Call connect() before accessing.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">device_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected to </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Transport: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">transport_info</span><span class="o">.</span><span class="n">transport_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Identifier: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">transport_info</span><span class="o">.</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example output:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connected to d-drive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#   Transport: SERIAL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#   Identifier: COM3</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Device must be connected before accessing this property. The device_id
comes from the class’s DEVICE_ID attribute, while transport_info is
provided by the active transport protocol.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.discover_devices">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">discover_devices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags:</span> <span class="pre">~psj_lib.devices.transport_protocol.device_discovery.DiscoverFlags</span> <span class="pre">=</span> <span class="pre">&lt;DiscoverFlags.ALL_INTERFACES:</span> <span class="pre">3&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.discover_devices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.discover_devices" title="Link to this definition"></a></dt>
<dd><p>Discover and create instances of devices accessible via available transports.</p>
<p>This class method scans for devices using the specified discovery flags,
identifies devices matching the class’s DEVICE_ID, and returns a list of
ready-to-connect device instances.</p>
<p>The discovery process:
1. Scans serial ports and/or network interfaces based on flags
2. Attempts basic communication to identify device type
3. Filters for devices matching this class’s DEVICE_ID (if defined)
4. Creates appropriate device instances via DeviceFactory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>flags</strong> – Discovery scope controlling which interfaces to scan.
DiscoverFlags.ALL_INTERFACES: Scan both serial and network
DiscoverFlags.SERIAL_ONLY: Scan only serial/USB ports
DiscoverFlags.TELNET_ONLY: Scan only network interfaces
Default: ALL_INTERFACES</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of device instances found during discovery. Each device is
created but not connected (call connect() on each device to establish
communication).</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Discover all available devices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span><span class="si">}</span><span class="s2"> devices&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Discover only network-connected devices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">network_devices</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">flags</span><span class="o">=</span><span class="n">DiscoverFlags</span><span class="o">.</span><span class="n">TELNET_ONLY</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connect to first discovered device</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">devices</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Base PiezoDevice class discovers all registered device types</p></li>
<li><p>Subclasses only discover devices matching their DEVICE_ID</p></li>
<li><p>Discovery can take several seconds, especially for network scanning</p></li>
<li><p>Devices must be powered on and properly connected to be discovered</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.enable_cmd_cache">
<span class="sig-name descname"><span class="pre">enable_cmd_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.enable_cmd_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.enable_cmd_cache" title="Link to this definition"></a></dt>
<dd><p>Enable or disable command caching for this device instance.</p>
<p>Controls whether command results are cached. Disabling cache also
automatically clears all cached entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> – True to enable caching, False to disable and clear cache</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Disable caching for debugging</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">enable_cmd_cache</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Always fresh</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Re-enable for better performance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">enable_cmd_cache</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Temporarily disable for critical operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">enable_cmd_cache</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">perform_calibration</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">enable_cmd_cache</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Disabling cache automatically clears all cached values</p></li>
<li><p>Setting to False is important when other apps access device</p></li>
<li><p>Per-instance setting (doesn’t affect other device instances)</p></li>
<li><p>See CommandCache class for detailed caching behavior</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.lock">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lock</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">_ReentrantAsyncLock</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.lock" title="Link to this definition"></a></dt>
<dd><p>Reentrant async lock for thread-safe device access.</p>
<p>This lock ensures that device operations are atomic and thread-safe when
multiple async tasks or threads access the device concurrently. The lock
is reentrant, meaning the same task can acquire it multiple times.</p>
<p>All internal write/read operations automatically use this lock. Use it
explicitly when you need to group multiple operations atomically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reentrant async context manager lock</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Atomic multi-command sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">with</span> <span class="n">device</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Switch to mode 1</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">])</span>  <span class="c1"># Set voltage</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">])</span>  <span class="c1"># Enable output</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Guarantees no other task can execute commands between these</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Lock is automatically used by write(), write_raw(), and other methods</p></li>
<li><p>Explicit locking is only needed for grouping multiple operations</p></li>
<li><p>Lock is reentrant: nested acquisitions from same task are allowed</p></li>
<li><p>Always use with async context manager (async with)</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.restore">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.restore" title="Link to this definition"></a></dt>
<dd><p>Restore device settings from a backup created with backup().</p>
<p>Iterates through the backup dictionary and writes each command with
its saved values back to the device. This restores both device-level
and channel-specific settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>backup</strong> – Dictionary created by backup() method, mapping command
strings to their parameter value lists.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><strong>DeviceError</strong></a> – If any command in the backup fails to restore
    (e.g., parameter out of range, read-only parameter)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create backup before experiment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">([</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Run experiment with different settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">20.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... perform measurements ...</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Restore original configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">restore</span><span class="p">(</span><span class="n">backup</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># All settings now back to original values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># voltage matches original backed-up value</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Commands are restored in dictionary iteration order</p></li>
<li><p>If a command fails, the exception propagates immediately</p></li>
<li><p>Works with backups containing both device and channel commands</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.write">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.write" title="Link to this definition"></a></dt>
<dd><p>Execute a device command with optional parameters and caching.</p>
<p>This is the primary method for device interaction. It automatically handles:
- Read vs write operations (based on params being None or not)
- Command result caching for read operations
- Cache invalidation for write operations
- Parameter type conversion (bool -&gt; int, all -&gt; str)
- Response parsing and error handling</p>
<dl class="simple">
<dt>Read Operation (params=None):</dt><dd><ul class="simple">
<li><p>Checks cache first, returns cached value if available</p></li>
<li><p>If cache miss, sends command to device</p></li>
<li><p>Caches result if command is cacheable</p></li>
<li><p>Returns response parameter values</p></li>
</ul>
</dd>
<dt>Write Operation (params provided):</dt><dd><ul class="simple">
<li><p>Converts parameters to proper string format</p></li>
<li><p>Sends command with parameters to device</p></li>
<li><p>Caches written values if command is cacheable</p></li>
<li><p>Returns device response</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> – Command name to execute (e.g., ‘voltage’, ‘position’, ‘identify’)</p></li>
<li><p><strong>params</strong> – Parameters for the command. Pass None for read operations,
list of values for write operations. Boolean values are automatically
converted to integers (True=1, False=0).</p></li>
<li><p><strong>timeout</strong> – Maximum time to wait for device response in seconds.
Default: 0.6 seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of response strings from the device. The command name is stripped,
only parameter values are returned.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException" title="psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException"><strong>DeviceUnavailableException</strong></a> – If device is not connected or transport fails</p></li>
<li><p><a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><strong>DeviceError</strong></a> – If device returns an error response (see exceptions.py)</p></li>
<li><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TimeoutException" title="psj_lib.devices.transport_protocol.transport_types.TimeoutException"><strong>TimeoutException</strong></a> – If device does not respond within timeout period</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read operation (returns cached value if available)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Voltage: </span><span class="si">{</span><span class="n">voltage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">voltage</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># [&#39;10.5&#39;, &#39;V&#39;]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Write operation (invalidates cache)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">12.5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Boolean parameters (converted to 0/1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">])</span>  <span class="c1"># Sends &#39;enable,1&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>  <span class="c1"># P, I, D values</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Custom timeout for slow operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;calibrate&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Caching only applies to commands in CACHEABLE_COMMANDS set</p></li>
<li><p>Cache is automatically invalidated on write operations</p></li>
<li><p>All operations use the device’s reentrant lock for thread safety</p></li>
<li><p>Boolean parameters: True becomes ‘1’, False becomes ‘0’</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_device.PiezoDevice.write_raw">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rx_delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">b'\r\n'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_device.html#PiezoDevice.write_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_device.PiezoDevice.write_raw" title="Link to this definition"></a></dt>
<dd><p>Send a raw command string and return unparsed device response.</p>
<blockquote>
<div><p>This low-level method sends a command directly to the device without:
- Parameter formatting or conversion
- Response parsing or error checking
- Caching of any kind</p>
<p>Use this method when you need direct access to raw device responses,
such as during device identification, debugging, or when implementing
new command support.</p>
<p>The method automatically:
- Adds the appropriate frame delimiter (CRLF by default)
- Uses the device lock for thread safety
- Waits for complete device response with timeout</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>cmd: Complete command string to send (e.g., ‘identify’ or ‘voltage,0,10.5’).</dt><dd><p>Frame delimiters are added automatically.</p>
</dd>
<dt>timeout: Maximum time to wait for device response in seconds.</dt><dd><p>Default: 0.6 seconds</p>
</dd>
<dt>rx_delimiter: Optional custom receive delimiter bytes.</dt><dd><p>Default: Device configured FRAME_DELIMITER_READ</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Raw response string from device including any delimiters or control characters</p>
</dd>
<dt>Raises:</dt><dd><p>DeviceUnavailableException: If device is not connected or transport error occurs
TimeoutException: If device does not respond within timeout period</p>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Send raw identification command</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write_raw</span><span class="p">(</span><span class="s1">&#39;identify&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Raw response: </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Raw response: &#39;identify,d-drive,v1.2.3</span>
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>‘</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Debugging - see exact device response</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write_raw</span><span class="p">(</span><span class="s1">&#39;voltage,0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response bytes: </span><span class="si">{</span><span class="n">raw</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Note:</dt><dd><ul class="simple">
<li><p>Prefer write() method for normal operations</p></li>
<li><p>No error checking is performed on responses</p></li>
<li><p>Response must be manually parsed</p></li>
<li><p>Useful for device discovery and debugging</p></li>
<li><p>Thread-safe via automatic lock acquisition</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.base.piezo_channel">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PiezoChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_channel.html#PiezoChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class representing a single channel in a multi-channel piezo device.</p>
<p>A PiezoChannel encapsulates the functionality for a single actuator channel
in devices that support multiple independent piezo outputs. Each channel can
typically be controlled independently with its own voltage, position, PID
settings, and other parameters.</p>
<p>The channel communicates with the parent device via a write callback function,
which handles the low-level command transmission. This design allows channels
to be device-agnostic while providing a consistent interface.</p>
<p>Specific device implementations typically define PiezoCapability instances
as attributes of the channel class to expose functionality like setpoint,
position, and PID control.</p>
<dl class="simple">
<dt>Type Aliases:</dt><dd><p>ChannelID: Integer identifier for the channel (typically 0-based)
Command: String representing a device command name
Param: Union type for command parameters (float | int | bool | str)
WriteCallback: Async function signature for sending commands to the device</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.BACKUP_COMMANDS">
<span class="sig-name descname"><span class="pre">BACKUP_COMMANDS</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.BACKUP_COMMANDS" title="Link to this definition"></a></dt>
<dd><p>Set of command names that should be backed up when
saving channel configuration. Subclasses should override this to
specify which commands preserve channel state.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Typically created by device class, not directly by users</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Get first channel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">backup</span><span class="p">()</span>  <span class="c1"># Save channel settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel_id</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">id</span>  <span class="c1"># Get channel identifier</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a base class. Device-specific implementations should inherit
from this and add capability-specific methods and properties.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">BACKUP_COMMANDS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.ChannelID">
<span class="sig-name descname"><span class="pre">ChannelID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">ChannelID</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.ChannelID" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.Command">
<span class="sig-name descname"><span class="pre">Command</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Command</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.Command" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.Param">
<span class="sig-name descname"><span class="pre">Param</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Param</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.Param" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.WriteCallback">
<span class="sig-name descname"><span class="pre">WriteCallback</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">WriteCallback</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.WriteCallback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_cb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WriteCallback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_channel.html#PiezoChannel.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a piezo channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_id</strong> – Numeric identifier for this channel. Typically corresponds
to the physical channel number on the device (0-based indexing).</p></li>
<li><p><strong>write_cb</strong> – Async callback function that transmits commands to the device.
The callback receives the command string, parameter list, and channel
ID, and returns the device’s response as a list of strings.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">device_write</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">ch_id</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write_channel</span><span class="p">(</span><span class="n">ch_id</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">PiezoChannel</span><span class="p">(</span><span class="n">channel_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">write_cb</span><span class="o">=</span><span class="n">device_write</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.backup">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">backup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_channel.html#PiezoChannel.backup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.backup" title="Link to this definition"></a></dt>
<dd><p>Backup current channel configuration by reading all backup commands.</p>
<p>This method queries all commands listed in the BACKUP_COMMANDS class attribute
and returns their current values as a dictionary. The backup can later be
restored using the parent device class’s restore functionality.</p>
<p>The BACKUP_COMMANDS set should be defined in device-specific channel subclasses
and typically includes commands for:
- Voltage/position setpoints
- PID controller parameters
- Filter settings
- Control mode configurations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary mapping command names to their response values (as string lists).
The dictionary can be passed to the device’s restore method to recreate
this channel configuration.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">backup</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">backup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># backup = {&#39;voltage&#39;: [&#39;10.5&#39;], &#39;pid_p&#39;: [&#39;5.0&#39;], ...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... later, restore the configuration ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">restore_channel</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">backup</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Base class has an empty BACKUP_COMMANDS set. Subclasses must override
this attribute to specify which commands should be backed up.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_channel.PiezoChannel.id">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#psj_lib.devices.base.piezo_channel.PiezoChannel.id" title="Link to this definition"></a></dt>
<dd><p>Get the numeric identifier for this channel.</p>
<p>The channel ID typically corresponds to the physical channel number on
the device hardware. Most devices use 0-based indexing (0, 1, 2, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer channel identifier</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel ID: </span><span class="si">{</span><span class="n">channel</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Channel ID: 0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.d_drive_family.d_drive.d_drive_device">
<span id="d-drive-device"></span><h3>d-Drive Device<a class="headerlink" href="#module-psj_lib.devices.d_drive_family.d_drive.d_drive_device" title="Link to this heading"></a></h3>
<p>Piezosystem Jena d-Drive modular piezo amplifier device implementation.</p>
<p>The d-Drive is a modular, expandable piezoelectric amplifier system designed
for high-precision nanopositioning. It features:</p>
<ul class="simple">
<li><p>20-bit resolution with 50 kHz sampling rate (50 kSPS)</p></li>
<li><p>1 to 6 amplifier channels per system</p></li>
<li><p>Digital PID controllers with several filter stages</p></li>
<li><p>Integrated waveform generator (sine, triangle, rectangle, sweep, noise)</p></li>
<li><p>Two-channel data recorder (500k maximum samples per channel)</p></li>
<li><p>Modular architecture with hot-swappable amplifier modules</p></li>
<li><p>RS-232/USB connectivity options</p></li>
</ul>
<p>For detailed hardware specifications, refer to the d-Drive Instruction Manual.
(<a class="reference external" href="https://www.piezosystem.com/products/amplifiers/modular/50ma-300ma-ddrive-digital-systems/">https://www.piezosystem.com/products/amplifiers/modular/50ma-300ma-ddrive-digital-systems/</a>)</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveDevice</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/d_drive/d_drive_device.html#DDriveDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DDriveFamilyDevice</span></code></p>
<p>Piezosystem Jena d-Drive modular amplifier system.</p>
<p>Represents a complete d-Drive system with 1-6 amplifier channels.
Each channel provides independent control of a piezoelectric actuator
with digital PID control, waveform generation, and data recording.</p>
<p>The d-Drive system features:
- 20-bit resolution
- 50 kHz sampling rate (20µs control loop period)
- Digital PID controllers with feedforward
- Multiple filter stages (notch, low-pass, error filter)
- Integrated waveform generator (sine, triangle, rectangle, sweep, noise)
- Two-channel data recorder (500k samples per channel)
- Hardware trigger output
- Analog monitor output
- Modulation input</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.DEVICE_ID">
<span class="sig-name descname"><span class="pre">DEVICE_ID</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.DEVICE_ID" title="Link to this definition"></a></dt>
<dd><p>Device type identifier string</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.BACKUP_COMMANDS">
<span class="sig-name descname"><span class="pre">BACKUP_COMMANDS</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.BACKUP_COMMANDS" title="Link to this definition"></a></dt>
<dd><p>Commands excluded from backup operations</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.CACHEABLE_COMMANDS">
<span class="sig-name descname"><span class="pre">CACHEABLE_COMMANDS</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.CACHEABLE_COMMANDS" title="Link to this definition"></a></dt>
<dd><p>Commands whose responses can be cached</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveDevice</span><span class="p">,</span> <span class="n">TransportType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connect to d-Drive via serial port</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s1">&#39;COM3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span><span class="si">}</span><span class="s2"> channels&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access channel 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable closed-loop control</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Move to position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>  <span class="c1"># 50 µm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read actual position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Position: </span><span class="si">{</span><span class="n">pos</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>System supports 1-6 channels (hardware dependent)</p></li>
<li><p>Channels are numbered 0-5</p></li>
<li><p>Not all channel numbers may be populated</p></li>
<li><p>Use device.channels dict to access available channels</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">DEVICE_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'d-Drive'</span></em><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd><p>Device type identifier used for device discovery and type checking.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.D_DRIVE_IDENTIFIER">
<span class="sig-name descname"><span class="pre">D_DRIVE_IDENTIFIER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DSM'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.D_DRIVE_IDENTIFIER" title="Link to this definition"></a></dt>
<dd><p>Internal identifier string used to recognize different d-Drive family devices.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.channels">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel" title="psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel"><span class="pre">DDriveChannel</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_device.DDriveDevice.channels" title="Link to this definition"></a></dt>
<dd><p>Get dictionary of available d-Drive amplifier channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary mapping channel number (0-5) to DDriveChannel instance,
or None for unpopulated slots</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Iterate over all available channels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ch_num</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">channel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">pos</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access specific channel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">75.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Channel numbers 0-5</p></li>
<li><p>None values indicate empty amplifier slots</p></li>
<li><p>Check for None before accessing channel</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.d_drive_family.d_drive.d_drive_channel">d-Drive amplifier channel implementation with all capabilities.</p>
<p>Each d-Drive channel is an independent piezo amplifier with digital control,
providing high-precision positioning with 20-bit resolution and 50 kHz sampling.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/d_drive/d_drive_channel.html#DDriveChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DDriveFamilyChannel</span></code></p>
<p>Single d-Drive amplifier channel with all control capabilities.</p>
<p>Each d-Drive channel provides complete control of one piezoelectric
actuator with:</p>
<p>Hardware Specifications (from d-Drive manual):
- 20-bit resolution
- 50 kHz sampling rate (20µs control loop period)
- Digital PID controller with feedforward (PCF)
- Multiple filter stages:</p>
<blockquote>
<div><ul class="simple">
<li><p>Notch filter (resonance suppression)</p></li>
<li><p>Low-pass filter (noise reduction)</p></li>
<li><p>Error low-pass filter (PID stability)</p></li>
</ul>
</div></blockquote>
<p>Signal Generation:
- Waveform generator (sine, triangle, rectangle, sweep, noise)
- Modulation input (external analog or internal waveform)
- Analog monitor output (configurable signal routing)</p>
<p>Data Acquisition:
- Two-channel data recorder
- 500,000 samples per channel maximum
- 50 kHz max sample rate with stride (decimation) support
- Channel 1: position signal, Channel 2: actuator voltage</p>
<p>Trigger System:
- Hardware trigger output (TTL)
- Window mode with start/stop thresholds
- Periodic triggers with configurable interval
- Edge detection (rising, falling, both)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel.SAMPLE_PERIOD">
<span class="sig-name descname"><span class="pre">SAMPLE_PERIOD</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel.SAMPLE_PERIOD" title="Link to this definition"></a></dt>
<dd><p>Control loop period in microseconds (20µs = 50kHz)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel.BACKUP_COMMANDS">
<span class="sig-name descname"><span class="pre">BACKUP_COMMANDS</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.d_drive.d_drive_channel.DDriveChannel.BACKUP_COMMANDS" title="Link to this definition"></a></dt>
<dd><p>Channel-specific commands included in backup</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure closed-loop control with PID tuning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable notch filter to suppress 500 Hz resonance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">500.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bandwidth</span><span class="o">=</span><span class="mf">50.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate 10 Hz sine wave for scanning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span><span class="o">.</span><span class="n">sine</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">10.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure data recorder for 1 second capture</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">memory_length</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>  <span class="c1"># 50k samples at 50kHz = 1 sec</span>
<span class="gp">... </span>    <span class="n">stride</span><span class="o">=</span><span class="mi">1</span>  <span class="c1"># No decimation</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Sample period defines control loop and data recorder timing</p></li>
<li><p>Capabilities are accessed as properties (e.g., channel.setpoint)</p></li>
<li><p>Hardware-specific enums defined in d_drive_family/capabilities/</p></li>
</ul>
</div>
</dd></dl>

</section>
<section id="module-psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device">
<span id="psj-30dv-device"></span><h3>PSJ 30DV Device<a class="headerlink" href="#module-psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device" title="Link to this heading"></a></h3>
<p>30DV device implementation (single-channel d-Drive family device).</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PSJ30DVDevice</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/psj_30dv/psj_30dv_device.html#PSJ30DVDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DDriveFamilyDevice</span></code></p>
<p>Piezosystem Jena PSJ 30DV50/300 piezo amplifier device.</p>
<p>The PSJ 30DV50/300 is a standalone, single-channel amplifier that is protocol
compatible with the d-Drive family. It exposes one channel (ID 0) with
the same capability set as a d-Drive channel.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.DEVICE_ID">
<span class="sig-name descname"><span class="pre">DEVICE_ID</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.DEVICE_ID" title="Link to this definition"></a></dt>
<dd><p>Device type identifier string</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.D_DRIVE_IDENTIFIER">
<span class="sig-name descname"><span class="pre">D_DRIVE_IDENTIFIER</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.D_DRIVE_IDENTIFIER" title="Link to this definition"></a></dt>
<dd><p>Internal identifier string used for discovery</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">PSJ30DVDevice</span><span class="p">,</span> <span class="n">TransportType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">PSJ30DVDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s1">&#39;COM3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">DEVICE_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'30DV50/300'</span></em><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd><p>Device type identifier used for device discovery and type checking.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">D_DRIVE_IDENTIFIER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AP'</span></em><a class="headerlink" href="#id3" title="Link to this definition"></a></dt>
<dd><p>Internal identifier string used to recognize different d-Drive family devices.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.channels">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel.PSJ30DVChannel" title="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel.PSJ30DVChannel"><span class="pre">PSJ30DVChannel</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_device.PSJ30DVDevice.channels" title="Link to this definition"></a></dt>
<dd><p>Typed channel mapping for PSJ 30DV (single channel at ID 0).</p>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel">PSJ 30DV channel implementation (single-channel d-Drive family).</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel.PSJ30DVChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PSJ30DVChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/psj_30dv/psj_30dv_channel.html#PSJ30DVChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.psj_30dv.psj_30dv_channel.PSJ30DVChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DDriveFamilyChannel</span></code></p>
<p>Channel class for PSJ 30DV devices.</p>
<p>Inherits all d-Drive family capabilities and behavior. The PSJ 30DV exposes
a single channel (ID 0) with the same capability set as d-Drive channels.</p>
</dd></dl>

</section>
<section id="base-capabilities">
<h3>Base Capabilities<a class="headerlink" href="#base-capabilities" title="Link to this heading"></a></h3>
<section id="module-psj_lib.devices.base.capabilities.status">
<span id="status-and-monitoring"></span><h4>Status and Monitoring<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.status" title="Link to this heading"></a></h4>
<p>Device status register capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.Status">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Status</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/status.html#Status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.Status" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Query device status register.</p>
<p>Retrieves the current status of the device, returning a status
register object that interprets device state, error conditions,
and operational flags.</p>
<p>The status register class is device-specific and provided during
capability initialization.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status_cap</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">status</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status_reg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">status_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Device-specific status properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">status_reg</span><span class="p">,</span> <span class="s1">&#39;has_error&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">status_reg</span><span class="o">.</span><span class="n">has_error</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Device error detected&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Status format is device-specific</p></li>
<li><p>Register type specified at capability creation</p></li>
<li><p>Provides real-time device state information</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.Status.CMD_STATUS">
<span class="sig-name descname"><span class="pre">CMD_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STATUS'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.Status.CMD_STATUS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.Status.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">register_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#psj_lib.devices.base.capabilities.status.StatusRegister" title="psj_lib.devices.base.capabilities.status.StatusRegister"><span class="pre">StatusRegister</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/status.html#Status.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.Status.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize status capability with register interpreter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Command execution callback</p></li>
<li><p><strong>device_commands</strong> – Command mapping dictionary</p></li>
<li><p><strong>register_type</strong> – Device-specific StatusRegister subclass</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.Status.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.capabilities.status.StatusRegister" title="psj_lib.devices.base.capabilities.status.StatusRegister"><span class="pre">StatusRegister</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/status.html#Status.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.Status.get" title="Link to this definition"></a></dt>
<dd><p>Query device status register.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>StatusRegister instance with device state information</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access device-specific properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">raw</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Return type depends on device-specific register class</p></li>
<li><p>Status interpretation varies by device model</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.StatusRegister">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StatusRegister</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/status.html#StatusRegister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.StatusRegister" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for device status register interpretation.</p>
<p>Holds raw status data from device. Device-specific subclasses
interpret the raw status bits to provide meaningful properties
and error conditions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.StatusRegister._raw">
<span class="sig-name descname"><span class="pre">_raw</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.StatusRegister._raw" title="Link to this definition"></a></dt>
<dd><p>Raw status response from device</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Subclass provides bit interpretation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">DeviceStatusRegister</span><span class="p">(</span><span class="n">StatusRegister</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@property</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">is_moving</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">is_moving</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Device is moving&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Device-specific implementations decode status bits</p></li>
<li><p>Raw value format varies by device model</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.StatusRegister.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/status.html#StatusRegister.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.StatusRegister.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize status register with raw device response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Raw status response from device</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.status.StatusRegister.raw">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raw</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.status.StatusRegister.raw" title="Link to this definition"></a></dt>
<dd><p>Get the raw status register value from the device.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Raw status response as received from the device</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Raw status: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">raw</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.temperature">Temperature monitoring capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.temperature.Temperature">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Temperature</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/temperature.html#Temperature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.temperature.Temperature" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Read device internal temperature.</p>
<p>Monitors the temperature of device electronics or power stages.
Temperature monitoring helps prevent overheating and can be used
for thermal management or diagnostic purposes.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">temp_cap</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">temperature</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">temp_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device temperature: </span><span class="si">{</span><span class="n">temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">temp</span> <span class="o">&gt;</span> <span class="mi">60</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warning: High temperature&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Temperature unit is typically degrees Celsius</p></li>
<li><p>Sensor location varies by device (electronics, power stage)</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.temperature.Temperature.CMD_TEMPERATURE">
<span class="sig-name descname"><span class="pre">CMD_TEMPERATURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TEMPERATURE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.temperature.Temperature.CMD_TEMPERATURE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.temperature.Temperature.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/temperature.html#Temperature.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.temperature.Temperature.get" title="Link to this definition"></a></dt>
<dd><p>Get the current device temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Temperature value in degrees Celsius</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">temperature</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">temperature</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current temp: </span><span class="si">{</span><span class="n">temperature</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Reading frequency depends on device update rate</p></li>
<li><p>Use for thermal monitoring and diagnostics</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.actuator_description">Actuator description capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ActuatorDescription</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/actuator_description.html#ActuatorDescription"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Query descriptive information about the connected actuator.</p>
<p>Retrieves a human-readable description of the piezoelectric actuator
attached to a channel. This may include model number, specifications,
or other identifying information.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">desc_cap</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">actuator_description</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">description</span> <span class="o">=</span> <span class="k">await</span> <span class="n">desc_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Actuator: </span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Actuator: MIPOS 100</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Description format is actuator-specific</p></li>
<li><p>May include model, travel range, resolution</p></li>
<li><p>Useful for logging and system documentation</p></li>
<li><p>Some devices return empty string if not configured</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription.CMD_DESCRIPTION">
<span class="sig-name descname"><span class="pre">CMD_DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'actuator_description'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription.CMD_DESCRIPTION" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/actuator_description.html#ActuatorDescription.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.actuator_description.ActuatorDescription.get" title="Link to this definition"></a></dt>
<dd><p>Get the actuator description string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Human-readable description of the connected actuator</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">desc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">actuator_description</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected actuator: </span><span class="si">{</span><span class="n">desc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.position">
<span id="position-control"></span><h4>Position Control<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.position" title="Link to this heading"></a></h4>
<p>Position readback capability for piezoelectric actuators.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.position.Position">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Position</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/position.html#Position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.position.Position" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Read the current position of a piezoelectric actuator.</p>
<p>Provides access to the current measured position of the actuator.
In closed-loop systems, this represents the sensor feedback value.
In open-loop systems, this may represent the output voltage.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">position_cap</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">position_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current position: </span><span class="si">{</span><span class="n">current_pos</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Position units depend on device configuration</p></li>
<li><p>In closed-loop mode: sensor feedback value</p></li>
<li><p>In open-loop mode: output voltage representation</p></li>
<li><p>Value range depends on actuator specifications</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.position.Position.CMD_POSITION">
<span class="sig-name descname"><span class="pre">CMD_POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'POSITION'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.position.Position.CMD_POSITION" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.position.Position.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/position.html#Position.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.position.Position.get" title="Link to this definition"></a></dt>
<dd><p>Get the current actuator position.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current position value in device-configured units (typically µm or volts)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Actuator at </span><span class="si">{</span><span class="n">pos</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Units can be queried via device.units.get_position_unit()</p></li>
<li><p>Update rate depends on device capabilities</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.setpoint">Setpoint control capability for piezoelectric actuators.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.setpoint.Setpoint">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Setpoint</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/setpoint.html#Setpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.setpoint.Setpoint" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Control the target setpoint (desired position) of an actuator.</p>
<p>The setpoint represents the target position that the actuator should
move to. In closed-loop mode, the controller adjusts voltage to
achieve this setpoint. In open-loop mode, this directly controls
the output voltage.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setpoint_cap</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Move to 50 micrometers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">setpoint_cap</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read current setpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current</span> <span class="o">=</span> <span class="k">await</span> <span class="n">setpoint_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target position: </span><span class="si">{</span><span class="n">current</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Setpoint units match position units (typically µm in closed-loop, V in open-loop)</p></li>
<li><p>Range limited by actuator travel range</p></li>
<li><p>In closed-loop: controller drives to this position</p></li>
<li><p>In open-loop: maps to output voltage</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.setpoint.Setpoint.CMD_SETPOINT">
<span class="sig-name descname"><span class="pre">CMD_SETPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SETPOINT'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.setpoint.Setpoint.CMD_SETPOINT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.setpoint.Setpoint.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/setpoint.html#Setpoint.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.setpoint.Setpoint.set" title="Link to this definition"></a></dt>
<dd><p>Set the target position for the actuator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>setpoint</strong> – Desired position in device units (typically µm in closed-loop, V in open-loop)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Move to 75.5 micrometers (closed-loop) or volts (open-loop)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">75.5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Value is clamped to actuator range by device</p></li>
<li><p>Movement speed affected by slew rate settings</p></li>
<li><p>In closed-loop mode, position is actively controlled by the amplifier</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.closed_loop_controller">Closed-loop control capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ClosedLoopController</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/closed_loop_controller.html#ClosedLoopController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Enable or disable closed-loop position control.</p>
<p>Closed-loop control uses sensor feedback to actively maintain the
actuator at the desired setpoint position. When enabled, the
controller compensates for drift, hysteresis, and external loads.</p>
<p>When disabled (open-loop), the actuator operates with direct voltage
control without position feedback.</p>
<p>Depending on the device, different closed loop algorithms may be available.
In this case, the device will provide a derived controller class with additional
methods to configure the specific algorithm type.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">controller</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable closed-loop control</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check if enabled</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_enabled</span> <span class="o">=</span> <span class="k">await</span> <span class="n">controller</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Closed-loop: </span><span class="si">{</span><span class="s1">&#39;On&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">is_enabled</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Off&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Requires position sensor for feedback</p></li>
<li><p>Provides better accuracy and stability than open-loop</p></li>
<li><p>May have slower response than open-loop</p></li>
<li><p>PID parameters affect closed-loop performance</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.CMD_ENABLE">
<span class="sig-name descname"><span class="pre">CMD_ENABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CLOSED_LOOP_CONTROLLER_ENABLE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.CMD_ENABLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/closed_loop_controller.html#ClosedLoopController.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the capability with command execution callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Function to execute device commands</p></li>
<li><p><strong>device_commands</strong> – Mapping of command IDs to device strings</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.get_enabled">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_enabled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/closed_loop_controller.html#ClosedLoopController.get_enabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.get_enabled" title="Link to this definition"></a></dt>
<dd><p>Check if closed-loop control is currently enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if closed-loop enabled, False if open-loop</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Using closed-loop control&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Using open-loop control&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.sample_period">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_period</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.sample_period" title="Link to this definition"></a></dt>
<dd><p>Get the closed-loop controller sampling period in microseconds.</p>
<p>The sampling period defines how often the controller updates its
output based on the position feedback. A shorter period allows
for faster response but may increase noise sensitivity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sampling period in microseconds</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">period</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">sample_period</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Controller sampling period: </span><span class="si">{</span><span class="n">period</span><span class="si">}</span><span class="s2"> µs&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="mi">1000000</span> <span class="o">/</span> <span class="n">period</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Control loop frequency: </span><span class="si">{</span><span class="n">freq</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/closed_loop_controller.html#ClosedLoopController.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.closed_loop_controller.ClosedLoopController.set" title="Link to this definition"></a></dt>
<dd><p>Enable or disable closed-loop control.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enabled</strong> – True to enable closed-loop, False for open-loop</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable closed-loop for precise positioning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Disable for faster response (open-loop)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">closed_loop_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Changing mode may cause position jump</p></li>
<li><p>Closed-loop requires properly tuned PID parameters</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.slew_rate">Slew rate limiting capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.slew_rate.SlewRate">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SlewRate</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/slew_rate.html#SlewRate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.slew_rate.SlewRate" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Control the maximum rate of change for actuator movement.</p>
<p>Slew rate limiting controls how quickly the actuator can change
position or voltage. This prevents mechanical shock, reduces
vibration, and protects delicate samples.</p>
<p>Lower slew rates result in slower, smoother movements. Higher
rates allow faster response but may cause oscillation or overshoot.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">slew_rate_cap</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">slew_rate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set gentle slew rate for delicate positioning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">slew_rate_cap</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>  <span class="c1"># 10 units/second</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Query current setting</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate</span> <span class="o">=</span> <span class="k">await</span> <span class="n">slew_rate_cap</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Slew rate: </span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s2"> units/second&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Units typically V/ms or %/ms, depending on device</p></li>
<li><p>Lower values = smoother movement</p></li>
<li><p>Zero or maximum may disable rate limiting (device-specific)</p></li>
<li><p>Affects both commanded movements and waveform generation</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.slew_rate.SlewRate.CMD_RATE">
<span class="sig-name descname"><span class="pre">CMD_RATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SLEW_RATE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.slew_rate.SlewRate.CMD_RATE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.slew_rate.SlewRate.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/slew_rate.html#SlewRate.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.slew_rate.SlewRate.get" title="Link to this definition"></a></dt>
<dd><p>Get the current slew rate limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current slew rate in device units (typically V/ms or %/ms)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">current_rate</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">slew_rate</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max movement speed: </span><span class="si">{</span><span class="n">current_rate</span><span class="si">}</span><span class="s2"> V/ms&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.slew_rate.SlewRate.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/slew_rate.html#SlewRate.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.slew_rate.SlewRate.set" title="Link to this definition"></a></dt>
<dd><p>Set the slew rate limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rate</strong> – Maximum rate of change (units/second, typically V/ms or %/ms)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set moderate slew rate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">slew_rate</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set very slow for ultra-smooth motion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">slew_rate</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Range is device-specific</p></li>
<li><p>Zero may disable limiting (instant response)</p></li>
<li><p>Very low values result in slow movements</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.pid_controller">
<span id="control-system"></span><h4>Control System<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.pid_controller" title="Link to this heading"></a></h4>
<p>PID controller parameter configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PIDController</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Configure PID controller parameters for closed-loop operation.</p>
<p>Provides access to Proportional, Integral, Derivative, and differential
filter parameters that control closed-loop positioning behavior.</p>
<p>PID Control Theory:
- P (Proportional): Response proportional to error. Higher = faster but may overshoot
- I (Integral): Eliminates steady-state error. Too high causes oscillation
- D (Derivative): Dampens oscillation. Higher = more damping but noise sensitive
- TF (Diff Filter): Filters derivative term to reduce noise amplification</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pid</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set aggressive PID for fast response</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">pid</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">diff_filter</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read current parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pid</span><span class="o">.</span><span class="n">get_p</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pid</span><span class="o">.</span><span class="n">get_i</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PID: P=</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">, I=</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Improper tuning causes poor performance and possible damage to actuator!</p></li>
<li><p>Start with conservative values and tune incrementally</p></li>
<li><p>Only active when closed-loop control is enabled</p></li>
<li><p>Parameter ranges are device-specific</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_D">
<span class="sig-name descname"><span class="pre">CMD_D</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PID_CONTROLLER_D'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_D" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_I">
<span class="sig-name descname"><span class="pre">CMD_I</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PID_CONTROLLER_I'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_I" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_P">
<span class="sig-name descname"><span class="pre">CMD_P</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PID_CONTROLLER_P'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_P" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_TF">
<span class="sig-name descname"><span class="pre">CMD_TF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PID_CONTROLLER_TF'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.CMD_TF" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.get_d">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_d</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController.get_d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.get_d" title="Link to this definition"></a></dt>
<dd><p>Get derivative gain parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current D (derivative) gain value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d_gain</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">get_d</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.get_diff_filter">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_diff_filter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController.get_diff_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.get_diff_filter" title="Link to this definition"></a></dt>
<dd><p>Get differential filter time constant.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current differential filter value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tf</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">get_diff_filter</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.get_i">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_i</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController.get_i"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.get_i" title="Link to this definition"></a></dt>
<dd><p>Get integral gain parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current I (integral) gain value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i_gain</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">get_i</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.get_p">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_p</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController.get_p"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.get_p" title="Link to this definition"></a></dt>
<dd><p>Get proportional gain parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current P (proportional) gain value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_gain</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">get_p</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pid_controller.PIDController.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pid_controller.html#PIDController.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pid_controller.PIDController.set" title="Link to this definition"></a></dt>
<dd><p>Set PID controller parameters.</p>
<p>Parameters are set independently - only provided values are updated.
Omitted parameters remain unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> – Proportional gain (higher = faster response, more overshoot)</p></li>
<li><p><strong>i</strong> – Integral gain (eliminates steady-state error)</p></li>
<li><p><strong>d</strong> – Derivative gain (dampens oscillation)</p></li>
<li><p><strong>diff_filter</strong> – Differential filter time constant (noise reduction)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set only P and I, leave D and filter unchanged</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">8.0</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fine-tune all parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">p</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mf">6.0</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">diff_filter</span><span class="o">=</span><span class="mf">150.0</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Units and ranges are device-specific</p></li>
<li><p>Test parameter changes with small movements first</p></li>
<li><p>Higher D gains amplify sensor noise (use diff_filter)</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.pcf">Pre-control factor capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pcf.PreControlFactor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PreControlFactor</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pcf.html#PreControlFactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pcf.PreControlFactor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Configure pre-control factor for feedforward control.</p>
<p>The Pre-Control Factor (PCF) provides feedforward compensation
to improve control system response. It anticipates required
control action based on the setpoint change, reducing settling
time and tracking error.</p>
<p>PCF is added to the PID controller output to provide faster
initial response to setpoint changes.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pcf</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">pre_control_factor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set moderate pre-control</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">pcf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Query current value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pcf</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PCF: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Typical range: 0.0 (no feedforward) to 1.0 (full feedforward)</p></li>
<li><p>Higher values = faster response but potential overshoot</p></li>
<li><p>Only active in closed-loop mode</p></li>
<li><p>Interacts with PID parameters</p></li>
<li><p>Device-specific implementation and range</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pcf.PreControlFactor.CMD_VALUE">
<span class="sig-name descname"><span class="pre">CMD_VALUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PCF_VALUE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.pcf.PreControlFactor.CMD_VALUE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pcf.PreControlFactor.get">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pcf.html#PreControlFactor.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pcf.PreControlFactor.get" title="Link to this definition"></a></dt>
<dd><p>Get the current pre-control factor value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current PCF value (device-specific units, typically 0.0-1.0)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pcf_value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pre_control_factor</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feedforward factor: </span><span class="si">{</span><span class="n">pcf_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.pcf.PreControlFactor.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/pcf.html#PreControlFactor.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.pcf.PreControlFactor.set" title="Link to this definition"></a></dt>
<dd><p>Set the pre-control factor value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Pre-control factor (typically 0.0 to 1.0)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Conservative feedforward</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pre_control_factor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Aggressive feedforward</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">pre_control_factor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Exact range is device-specific</p></li>
<li><p>Higher values improve response speed</p></li>
<li><p>Too high may cause overshoot</p></li>
<li><p>Tune in conjunction with PID parameters</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.notch_filter">
<span id="filters"></span><h4>Filters<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.notch_filter" title="Link to this heading"></a></h4>
<p>Notch filter capability for resonance suppression.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NotchFilter</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/notch_filter.html#NotchFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Configure notch filtering to suppress specific frequency components.</p>
<p>Notch filters (band-stop filters) attenuate signals at a specific
frequency while passing all other frequencies. They are used to
suppress mechanical resonances that can cause instability or
oscillation in closed-loop systems.</p>
<p>Parameters:
- Center frequency: The frequency to suppress (resonance peak)
- Bandwidth: Width of suppressed frequency band</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">notch</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Suppress 500 Hz resonance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">notch</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">500.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bandwidth</span><span class="o">=</span><span class="mf">50.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">notch</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">notch</span><span class="o">.</span><span class="n">get_bandwidth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Notch at </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2">±</span><span class="si">{</span><span class="n">bw</span><span class="o">/</span><span class="mi">2</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Center frequency should match mechanical resonance</p></li>
<li><p>Narrow bandwidth = precise suppression, may be insufficient</p></li>
<li><p>Wide bandwidth = broader suppression, affects more frequencies</p></li>
<li><p>Multiple resonances may require cascaded notch filters</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_BANDWIDTH">
<span class="sig-name descname"><span class="pre">CMD_BANDWIDTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NOTCH_FILTER_BANDWIDTH'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_BANDWIDTH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_ENABLE">
<span class="sig-name descname"><span class="pre">CMD_ENABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NOTCH_FILTER_ENABLE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_ENABLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NOTCH_FILTER_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.CMD_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_bandwidth">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_bandwidth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/notch_filter.html#NotchFilter.get_bandwidth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_bandwidth" title="Link to this definition"></a></dt>
<dd><p>Get the notch filter bandwidth.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bandwidth in Hz</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">get_bandwidth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Suppressing </span><span class="si">{</span><span class="n">freq</span><span class="o">-</span><span class="n">bw</span><span class="o">/</span><span class="mi">2</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">freq</span><span class="o">+</span><span class="n">bw</span><span class="o">/</span><span class="mi">2</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_enabled">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_enabled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/notch_filter.html#NotchFilter.get_enabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_enabled" title="Link to this definition"></a></dt>
<dd><p>Check if notch filter is enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if filter is active, False if bypassed</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Notch filter active&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_frequency">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_frequency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/notch_filter.html#NotchFilter.get_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.get_frequency" title="Link to this definition"></a></dt>
<dd><p>Get the notch center frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Center frequency in Hz</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Suppressing </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.notch_filter.NotchFilter.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/notch_filter.html#NotchFilter.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.notch_filter.NotchFilter.set" title="Link to this definition"></a></dt>
<dd><p>Configure notch filter parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> – True to enable filtering, False to bypass</p></li>
<li><p><strong>frequency</strong> – Center frequency to suppress (Hz)</p></li>
<li><p><strong>bandwidth</strong> – Width of suppression band (Hz)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable notch at 750 Hz with 100 Hz bandwidth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">750.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bandwidth</span><span class="o">=</span><span class="mf">100.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Just adjust bandwidth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">notch_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">bandwidth</span><span class="o">=</span><span class="mf">80.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only provided parameters are updated</p></li>
<li><p>Frequency range is device-specific</p></li>
<li><p>Bandwidth affects depth and width of suppression</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.low_pass_filter">Low-pass filter capability for signal conditioning.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LowPassFilter</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/low_pass_filter.html#LowPassFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Configure low-pass filtering of position or control signals.</p>
<p>Low-pass filters attenuate high-frequency noise and oscillations
while allowing low-frequency signals to pass. This improves signal
quality and reduces noise in position measurements or control output.</p>
<p>The cutoff frequency determines which frequencies are filtered:
- Signals below cutoff: pass through unaffected
- Signals above cutoff: progressively attenuated</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lpf</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">low_pass_filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable with 100 Hz cutoff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">lpf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cutoff_frequency</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enabled</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lpf</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">lpf</span><span class="o">.</span><span class="n">get_cutoff_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LPF: </span><span class="si">{</span><span class="s1">&#39;On&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Off&#39;</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Lower cutoff = more filtering, slower response</p></li>
<li><p>Higher cutoff = less filtering, faster response</p></li>
<li><p>Can be applied to sensor input, control output, or both</p></li>
<li><p>Adds phase lag proportional to filtering strength</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.CMD_CUTOFF_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_CUTOFF_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'LOW_PASS_FILTER_CUTOFF_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.CMD_CUTOFF_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.CMD_ENABLE">
<span class="sig-name descname"><span class="pre">CMD_ENABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'LOW_PASS_FILTER_ENABLE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.CMD_ENABLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.get_cutoff_frequency">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_cutoff_frequency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/low_pass_filter.html#LowPassFilter.get_cutoff_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.get_cutoff_frequency" title="Link to this definition"></a></dt>
<dd><p>Get the current cutoff frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Cutoff frequency in Hz</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">low_pass_filter</span><span class="o">.</span><span class="n">get_cutoff_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Filtering above </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.get_enabled">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_enabled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/low_pass_filter.html#LowPassFilter.get_enabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.get_enabled" title="Link to this definition"></a></dt>
<dd><p>Check if low-pass filter is enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if filter is active, False if bypassed</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">low_pass_filter</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Filtering active&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/low_pass_filter.html#LowPassFilter.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.low_pass_filter.LowPassFilter.set" title="Link to this definition"></a></dt>
<dd><p>Configure low-pass filter parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> – True to enable filtering, False to bypass</p></li>
<li><p><strong>cutoff_frequency</strong> – -3dB cutoff frequency in Hz</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable with specific cutoff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">low_pass_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cutoff_frequency</span><span class="o">=</span><span class="mf">50.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Just change frequency</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">low_pass_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">cutoff_frequency</span><span class="o">=</span><span class="mf">200.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only provided parameters are updated</p></li>
<li><p>Cutoff range is device-specific</p></li>
<li><p>Typical range: 1 Hz to several kHz</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.error_low_pass_filter">Error signal low-pass filter for PID controller.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ErrorLowPassFilter</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/error_low_pass_filter.html#ErrorLowPassFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Filter the position error signal in closed-loop control.</p>
<p>Applies low-pass filtering to the error signal (setpoint - position)
before it enters the PID controller. This reduces high-frequency
noise in the error signal that could cause unstable control behavior.</p>
<p>Unlike the general low-pass filter, this specifically filters the
error signal used by the PID controller, helping to stabilize
control without filtering the position feedback directly.</p>
<p>Parameters:
- Cutoff frequency: Where filtering begins (-3dB point)
- Order: Filter steepness (1st, 2nd order, etc.)</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">err_lpf</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">error_low_pass_filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure 2nd-order filter at 200 Hz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">err_lpf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">cutoff_frequency</span><span class="o">=</span><span class="mf">200.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="mi">2</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Query settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">err_lpf</span><span class="o">.</span><span class="n">get_cutoff_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">order</span> <span class="o">=</span> <span class="k">await</span> <span class="n">err_lpf</span><span class="o">.</span><span class="n">get_order</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">-order error filter at </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only affects closed-loop control</p></li>
<li><p>Higher order = steeper rolloff, more phase lag</p></li>
<li><p>Lower cutoff = more filtering, slower response</p></li>
<li><p>Helps stabilize noisy systems</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.CMD_CUTOFF_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_CUTOFF_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ERROR_LOW_PASS_FILTER_CUTOFF_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.CMD_CUTOFF_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.CMD_ORDER">
<span class="sig-name descname"><span class="pre">CMD_ORDER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ERROR_LOW_PASS_FILTER_ORDER'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.CMD_ORDER" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.get_cutoff_frequency">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_cutoff_frequency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/error_low_pass_filter.html#ErrorLowPassFilter.get_cutoff_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.get_cutoff_frequency" title="Link to this definition"></a></dt>
<dd><p>Get the current error filter cutoff frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Cutoff frequency in Hz</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">error_low_pass_filter</span><span class="o">.</span><span class="n">get_cutoff_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error signal filtered above </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.get_order">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/error_low_pass_filter.html#ErrorLowPassFilter.get_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.get_order" title="Link to this definition"></a></dt>
<dd><p>Get the current filter order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Filter order (1, 2, 3, or 4 typically)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">order</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">error_low_pass_filter</span><span class="o">.</span><span class="n">get_order</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rolloff</span> <span class="o">=</span> <span class="n">order</span> <span class="o">*</span> <span class="mi">20</span>  <span class="c1"># dB/decade</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">-order filter (</span><span class="si">{</span><span class="n">rolloff</span><span class="si">}</span><span class="s2"> dB/decade rolloff)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/error_low_pass_filter.html#ErrorLowPassFilter.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.error_low_pass_filter.ErrorLowPassFilter.set" title="Link to this definition"></a></dt>
<dd><p>Configure error signal filter parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff_frequency</strong> – -3dB cutoff frequency in Hz</p></li>
<li><p><strong>order</strong> – Filter order (1 = 1st order, 2 = 2nd order, etc.)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set moderate filtering</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">error_low_pass_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">cutoff_frequency</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Increase filter steepness</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">error_low_pass_filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only provided parameters are updated</p></li>
<li><p>Higher order provides sharper cutoff but more phase lag</p></li>
<li><p>Typical orders: 1 (gentlest) to 4 (steepest)</p></li>
<li><p>Coordinate with PID tuning for best stability</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.modulation_source">
<span id="signal-generation"></span><h4>Signal Generation<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.modulation_source" title="Link to this heading"></a></h4>
<p>Modulation input source selection capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSource">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ModulationSource</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/modulation_source.html#ModulationSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSource" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Select the source for setpoint modulation input.</p>
<p>Configures which signal source is used to modulate the actuator
position or voltage. Modulation allows dynamic control from external
signals or internal waveform generators.</p>
<p>Common modulation sources:
- External analog input (0-10V)
- Internal waveform generator
- Serial commands</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Device-specific enum</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModulationSourceTypes</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">modulation_source</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use internal waveform generator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">mod</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span><span class="n">ModulationSourceTypes</span><span class="o">.</span><span class="n">INTERNAL_WAVEFORM</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check current source</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="k">await</span> <span class="n">mod</span><span class="o">.</span><span class="n">get_source</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Modulation from: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Modulation mode must be enabled separately</p></li>
<li><p>Input range and scaling are device-specific</p></li>
<li><p>External input typically 0-10V</p></li>
<li><p>Source enum is device-specific</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSource.CMD_SOURCE">
<span class="sig-name descname"><span class="pre">CMD_SOURCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MODULATION_SOURCE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSource.CMD_SOURCE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes" title="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes"><span class="pre">ModulationSourceTypes</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/modulation_source.html#ModulationSource.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSource.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize modulation source capability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Command execution callback</p></li>
<li><p><strong>device_commands</strong> – Command mapping dictionary</p></li>
<li><p><strong>sources</strong> – Device-specific ModulationSourceTypes enum type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSource.get_source">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_source</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes" title="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes"><span class="pre">ModulationSourceTypes</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/modulation_source.html#ModulationSource.get_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSource.get_source" title="Link to this definition"></a></dt>
<dd><p>Get the current modulation input source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current modulation source enum value, or UNKNOWN if
device returns unrecognized value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">modulation_source</span><span class="o">.</span><span class="n">get_source</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">source</span> <span class="o">==</span> <span class="n">ModulationSourceTypes</span><span class="o">.</span><span class="n">EXTERNAL_INPUT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Using external modulation input&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Returns UNKNOWN for unrecognized device responses</p></li>
<li><p>Source enum is device-specific</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSource.set_source">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes" title="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes"><span class="pre">ModulationSourceTypes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/modulation_source.html#ModulationSource.set_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSource.set_source" title="Link to this definition"></a></dt>
<dd><p>Set the modulation input source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> – Modulation source from device-specific enum</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If source is not from the correct device-specific enum</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModulationSourceTypes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">modulation_source</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ModulationSourceTypes</span><span class="o">.</span><span class="n">EXTERNAL_INPUT</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Source must be from device-specific enum</p></li>
<li><p>Invalid sources raise ValueError</p></li>
<li><p>May need to enable modulation mode separately</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ModulationSourceTypes</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/modulation_source.html#ModulationSourceTypes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Base enumeration for modulation input sources.</p>
<p>Device-specific implementations define available modulation sources.
Common sources include external analog input, internal waveform
generator, or digital sources.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Unrecognized or invalid source value</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Device-specific subclasses define actual sources</p></li>
<li><p>UNKNOWN used for unrecognized device responses</p></li>
</ul>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="id4">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#id4" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.monitor_output">Monitor output source selection capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutput">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MonitorOutput</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/monitor_output.html#MonitorOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutput" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Select signal source for analog monitor output.</p>
<p>Configures which internal signal is routed to the device’s analog
monitor output connector. This allows real-time observation of
various internal signals using an oscilloscope or data acquisition
system.</p>
<p>Available sources depend on device model and may include:
- Position sensor value
- Commanded setpoint
- Output voltage
- Control error signal
- And more…</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Device-specific enum</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">MonitorOutputSource</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monitor</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">monitor_output</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Route position to monitor output</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">monitor</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span><span class="n">MonitorOutputSource</span><span class="o">.</span><span class="n">POSITION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check current source</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="k">await</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_source</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Monitoring: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Output is typically 0-10V</p></li>
<li><p>Scaling depends on device and selected source</p></li>
<li><p>Useful for debugging and real-time monitoring</p></li>
<li><p>Source enum is device-specific</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.CMD_OUTPUT_SRC">
<span class="sig-name descname"><span class="pre">CMD_OUTPUT_SRC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MONITOR_OUTPUT_SRC'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.CMD_OUTPUT_SRC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource" title="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource"><span class="pre">MonitorOutputSource</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/monitor_output.html#MonitorOutput.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize monitor output capability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Command execution callback</p></li>
<li><p><strong>device_commands</strong> – Command mapping dictionary</p></li>
<li><p><strong>sources</strong> – Device-specific MonitorOutputSource enum type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.get_source">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_source</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource" title="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource"><span class="pre">MonitorOutputSource</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/monitor_output.html#MonitorOutput.get_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.get_source" title="Link to this definition"></a></dt>
<dd><p>Get the current monitor output source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current monitor output source enum value, or UNKNOWN if
device returns unrecognized value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">monitor_output</span><span class="o">.</span><span class="n">get_source</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">source</span> <span class="o">==</span> <span class="n">MonitorOutputSource</span><span class="o">.</span><span class="n">POSITION</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Monitoring position sensor&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Returns UNKNOWN for unrecognized device responses</p></li>
<li><p>Source enum is device-specific</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.set_source">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource" title="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource"><span class="pre">MonitorOutputSource</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/monitor_output.html#MonitorOutput.set_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutput.set_source" title="Link to this definition"></a></dt>
<dd><p>Set the monitor output signal source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> – Monitor output source from device-specific enum</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If source is not from the correct device-specific enum</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">MonitorOutputSource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">monitor_output</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">MonitorOutputSource</span><span class="o">.</span><span class="n">SETPOINT</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Source must be from device-specific enum</p></li>
<li><p>Invalid sources raise ValueError</p></li>
<li><p>Monitor output updates in real-time</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MonitorOutputSource</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/monitor_output.html#MonitorOutputSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Base enumeration for monitor output signal sources.</p>
<p>Device-specific implementations define available monitor sources.
Common sources include position, setpoint, voltage, error signal, etc.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Unrecognized or invalid source value</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Device-specific subclasses define actual sources</p></li>
<li><p>UNKNOWN used for unrecognized device responses</p></li>
</ul>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="id5">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#id5" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.static_waveform_generator">Static waveform generator for periodic signal generation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StaticWaveformGenerator</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Generate periodic waveforms for actuator modulation.</p>
<p>The static waveform generator produces continuous periodic signals
(sine, square, triangle, etc.) that can be used for:
- Scanning applications
- Vibration testing
- Frequency response characterization
- Dynamic positioning</p>
<p>Configurable parameters:
- Frequency: Rate of oscillation (Hz)
- Amplitude: Peak-to-peak magnitude
- Offset: DC bias level
- Duty cycle: Pulse width for square/pulse waveforms</p>
<p>The generated waveform can typically be used as the primary control signal.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfg</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">static_waveform_generator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate 10 Hz sine wave, 20µm amplitude, centered at 50µm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create square wave with 30% duty cycle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">30.0</span>  <span class="c1"># 30% high time</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Query current settings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_amplitude</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generating </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz, ±</span><span class="si">{</span><span class="n">amp</span><span class="o">/</span><span class="mi">2</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>May require modulation source selection to use waveform output</p></li>
<li><p>Waveform type (sine/square/triangle) is device-specific</p></li>
<li><p>Frequency is limited by device output current and actuator resonance frequency</p></li>
<li><p>Amplitude is limited by actuator travel range</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STATIC_WAVEFORM_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_DUTY_CYCLE">
<span class="sig-name descname"><span class="pre">CMD_DUTY_CYCLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STATIC_WAVEFORM_DUTY_CYCLE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_DUTY_CYCLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STATIC_WAVEFORM_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STATIC_WAVEFORM_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.CMD_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_amplitude">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_amplitude</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator.get_amplitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_amplitude" title="Link to this definition"></a></dt>
<dd><p>Get waveform amplitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Amplitude in position units (typically µm or V)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">amp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_amplitude</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Oscillating ±</span><span class="si">{</span><span class="n">amp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> µm from center&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_duty_cycle">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_duty_cycle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator.get_duty_cycle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_duty_cycle" title="Link to this definition"></a></dt>
<dd><p>Get pulse duty cycle percentage.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Duty cycle in percent (0-100%)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">duty</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_duty_cycle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pulse: </span><span class="si">{</span><span class="n">duty</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">% high, </span><span class="si">{</span><span class="mi">100</span><span class="o">-</span><span class="n">duty</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">% low&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>50% = symmetric wave</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_frequency">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_frequency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator.get_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_frequency" title="Link to this definition"></a></dt>
<dd><p>Get waveform frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Frequency in Hz</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">period</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">freq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Period: </span><span class="si">{</span><span class="n">period</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> ms&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_offset">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_offset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator.get_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.get_offset" title="Link to this definition"></a></dt>
<dd><p>Get waveform DC offset (center position).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Offset in position units (typically µm or V)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_offset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_amplitude</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range: </span><span class="si">{</span><span class="n">offset</span><span class="o">-</span><span class="n">amp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">offset</span><span class="o">+</span><span class="n">amp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duty_cycle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/static_waveform_generator.html#StaticWaveformGenerator.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator.set" title="Link to this definition"></a></dt>
<dd><p>Configure waveform generator parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency</strong> – Oscillation frequency in Hz</p></li>
<li><p><strong>amplitude</strong> – Amplitude in position units (typically µm or V)</p></li>
<li><p><strong>offset</strong> – DC offset/center position in position units (typically µm or V)</p></li>
<li><p><strong>duty_cycle</strong> – Pulse width percentage (0-100%)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow sine wave scan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># 0.5 Hz (2 second period)</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>  <span class="c1"># 100µm amplitude</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span>  <span class="c1"># Centered at 50µm</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast square wave with asymmetric duty cycle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">25.0</span>  <span class="c1"># 25% high, 75% low</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only provided parameters are updated</p></li>
<li><p>Amplitude is amplitude</p></li>
<li><p>Actual range: [offset - amplitude, offset + amplitude]</p></li>
<li><p>Frequency is limited by device output current and actuator resonance frequency</p></li>
<li><p>Amplitude is limited by actuator travel range</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.data_recorder">
<span id="data-acquisition"></span><h4>Data Acquisition<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.data_recorder" title="Link to this heading"></a></h4>
<p>Data recorder capability for capturing device signals.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataRecorder</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Record device signals to internal memory for later retrieval.</p>
<p>The data recorder captures signals (position, setpoint, voltage, etc.)
at high speed into device memory. Data can be retrieved after
recording completes for analysis and plotting.</p>
<p>Features:
- Multiple channels (device dependent, typically 2)
- Configurable memory length
- Stride (decimation) for longer time spans</p>
<p>Typical workflow:
1. Configure memory length and stride
2. Start recording with start() or by using device specific autostart modes</p>
<blockquote>
<div><p>(setpoint, waveform generator)</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Wait for recording to complete</p></li>
<li><p>Retrieve data with get_all_data() or get_data()</p></li>
</ol>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">recorder</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">data_recorder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure for 10000 samples, no decimation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">memory_length</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Start recording</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... perform motion ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve channel 1 data with progress callback</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">progress</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downloaded </span><span class="si">{</span><span class="n">current</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DataRecorderChannel</span><span class="o">.</span><span class="n">CHANNEL_1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">callback</span><span class="o">=</span><span class="n">progress</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Captured </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Memory length limits total capture time</p></li>
<li><p>Stride reduces data rate (stride=10 keeps only every 10th sample)</p></li>
<li><p>Channels record different signals (device-specific)</p></li>
<li><p>Data units depend on recorded signal type</p></li>
<li><p>Large data transfers may take several seconds</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CHANNEL_1_IDX">
<span class="sig-name descname"><span class="pre">CHANNEL_1_IDX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CHANNEL_1_IDX" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CHANNEL_2_IDX">
<span class="sig-name descname"><span class="pre">CHANNEL_2_IDX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CHANNEL_2_IDX" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_GET_DATA_1">
<span class="sig-name descname"><span class="pre">CMD_GET_DATA_1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_GET_DATA_1'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_GET_DATA_1" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_GET_DATA_2">
<span class="sig-name descname"><span class="pre">CMD_GET_DATA_2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_GET_DATA_2'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_GET_DATA_2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_MEMORY_LENGTH">
<span class="sig-name descname"><span class="pre">CMD_MEMORY_LENGTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_MEMORY_LENGTH'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_MEMORY_LENGTH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_PTR">
<span class="sig-name descname"><span class="pre">CMD_PTR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_POINTER'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_PTR" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_START_RECORDING">
<span class="sig-name descname"><span class="pre">CMD_START_RECORDING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_START_RECORDING'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_START_RECORDING" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_STRIDE">
<span class="sig-name descname"><span class="pre">CMD_STRIDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DATA_RECORDER_RECORD_STRIDE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.CMD_STRIDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the capability with command execution callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Function to execute device commands</p></li>
<li><p><strong>device_commands</strong> – Mapping of command IDs to device strings</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_all_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_all_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel" title="psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel"><span class="pre">DataRecorderChannel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ProgressCallback</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.get_all_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_all_data" title="Link to this definition"></a></dt>
<dd><p>Retrieve all recorded data from specified channel.</p>
<blockquote>
<div><p>Downloads entire recording buffer from device memory. This may
take several seconds for large datasets.</p>
<dl>
<dt>Args:</dt><dd><p>channel: Which channel to retrieve
max_length: Maximum number of samples to retrieve. If None,</p>
<blockquote>
<div><p>retrieves full configured length.</p>
</div></blockquote>
<p>callback: Optional progress callback function(current, total)</p>
</dd>
<dt>Returns:</dt><dd><p>List of all recorded samples</p>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simple retrieval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DataRecorderChannel</span><span class="o">.</span><span class="n">CHANNEL_1</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># With progress updates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">show_progress</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">percent</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">current</span> <span class="o">/</span> <span class="n">total</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>Download: {percent:.0f}%”, end=””)</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DataRecorderChannel</span><span class="o">.</span><span class="n">CHANNEL_2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">callback</span><span class="o">=</span><span class="n">show_progress</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd>
</dl>
<p>Retrieved {len(data)} samples”)</p>
<blockquote>
<div><dl class="simple">
<dt>Note:</dt><dd><ul class="simple">
<li><p>Transfer time depends on memory_length</p></li>
<li><p>Progress callback useful for long transfers</p></li>
<li><p>Returns data in chronological order</p></li>
<li><p>Units depend on recorded signal type</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel" title="psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel"><span class="pre">DataRecorderChannel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_data" title="Link to this definition"></a></dt>
<dd><p>Read a single data sample from specified channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – Which channel to read from</p></li>
<li><p><strong>index</strong> – Sample index (0 to memory_length-1), or None to read
next sequential sample</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Single data sample value</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read sample at index 100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DataRecorderChannel</span><span class="o">.</span><span class="n">CHANNEL_1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="mi">100</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read next sequential sample</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value2</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DataRecorderChannel</span><span class="o">.</span><span class="n">CHANNEL_1</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Setting index resets read pointer</p></li>
<li><p>Omitting index reads sequentially</p></li>
<li><p>More efficient to use get_all_data() for bulk retrieval</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_memory_length">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_memory_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.get_memory_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_memory_length" title="Link to this definition"></a></dt>
<dd><p>Get configured recording length.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of samples per channel</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_memory_length</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Will record </span><span class="si">{</span><span class="n">length</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_stride">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stride</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.get_stride"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.get_stride" title="Link to this definition"></a></dt>
<dd><p>Get decimation stride factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current stride value (1=no decimation)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stride</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_stride</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recording every </span><span class="si">{</span><span class="n">stride</span><span class="si">}</span><span class="s2"> sample(s)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.sample_period">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_period</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.sample_period" title="Link to this definition"></a></dt>
<dd><p>Get base sample period in microseconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sample period in microseconds</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">period</span> <span class="o">=</span> <span class="n">recorder</span><span class="o">.</span><span class="n">sample_period</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Base sample period: </span><span class="si">{</span><span class="n">period</span><span class="si">}</span><span class="s2"> µs&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.sample_rate">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.sample_rate" title="Link to this definition"></a></dt>
<dd><p>Get base sample rate in Hz.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sample rate in Hz</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memory_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.set" title="Link to this definition"></a></dt>
<dd><p>Configure data recorder parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memory_length</strong> – Number of samples to record per channel</p></li>
<li><p><strong>stride</strong> – Decimation factor (1=all samples, 10=every 10th sample)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Record 5000 samples at full rate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">memory_length</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Record 50000 samples, keeping every 100th</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">memory_length</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Maximum memory_length is device-specific</p></li>
<li><p>Stride&gt;1 allows longer time spans at lower data rate</p></li>
<li><p>Effective sample period = sample_period * stride</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorder.start">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorder.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder.start" title="Link to this definition"></a></dt>
<dd><p>Start data recording.</p>
<p>Begins capturing data to device memory. Recording continues
until memory is full or device is reset.</p>
<p>Some devices may support automatic recording start based on
setpoint changes or waveform generator activity.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Recording now active</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># Record for 1 second</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve data...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Previous recording data is overwritten</p></li>
<li><p>Recording may stop automatically when buffer full</p></li>
<li><p>Check device status to determine if still recording</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataRecorderChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/data_recorder.html#DataRecorderChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Data recorder input channels.</p>
<p>Identifies which recorder channel to access for configuration
or data retrieval.</p>
<p>Subclasses may define specific channel meanings.</p>
</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.trigger_out">Trigger output generation capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TriggerDataSource</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerDataSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Data source for trigger generation.</p>
<p>Determines which signal is monitored for trigger condition.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource.POSITION">
<span class="sig-name descname"><span class="pre">POSITION</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource.POSITION" title="Link to this definition"></a></dt>
<dd><p>Monitor actual position sensor value</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource.SETPOINT">
<span class="sig-name descname"><span class="pre">SETPOINT</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource.SETPOINT" title="Link to this definition"></a></dt>
<dd><p>Monitor commanded setpoint value</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id6" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">SETPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TriggerEdge</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerEdge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Trigger edge detection mode.</p>
<p>Configures which signal transitions generate trigger pulses.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.DISABLED">
<span class="sig-name descname"><span class="pre">DISABLED</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.DISABLED" title="Link to this definition"></a></dt>
<dd><p>No trigger output</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.RISING">
<span class="sig-name descname"><span class="pre">RISING</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.RISING" title="Link to this definition"></a></dt>
<dd><p>Trigger on upward crossings only</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.FALLING">
<span class="sig-name descname"><span class="pre">FALLING</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.FALLING" title="Link to this definition"></a></dt>
<dd><p>Trigger on downward crossings only</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.BOTH">
<span class="sig-name descname"><span class="pre">BOTH</span></span><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge.BOTH" title="Link to this definition"></a></dt>
<dd><p>Trigger on both upward and downward crossings</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">BOTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id8" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">DISABLED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id9" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">FALLING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id10" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">RISING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id11" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TriggerOut</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Configure hardware trigger output generation.</p>
<p>Generates digital trigger pulses when monitored signal crosses
threshold values. Useful for synchronizing external equipment
(cameras, data acquisition, etc.) with actuator movement.</p>
<p>Trigger Options:
- Window: Triggers when signal enters/exits range [start, stop]
- Interval: Periodic triggers at fixed intervals within window
- Edge sensitivity: Rising, falling, or both edges</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trigger</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">trigger_out</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trigger every 10µm from 20µm to 80µm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">trigger</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start_value</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stop_value</span><span class="o">=</span><span class="mf">80.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">interval</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>  <span class="c1"># 100 cycles pulse</span>
<span class="gp">... </span>    <span class="n">edge</span><span class="o">=</span><span class="n">TriggerEdge</span><span class="o">.</span><span class="n">BOTH</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">src</span><span class="o">=</span><span class="n">TriggerDataSource</span><span class="o">.</span><span class="n">POSITION</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Query configuration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span> <span class="o">=</span> <span class="k">await</span> <span class="n">trigger</span><span class="o">.</span><span class="n">get_start_value</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interval</span> <span class="o">=</span> <span class="k">await</span> <span class="n">trigger</span><span class="o">.</span><span class="n">get_interval</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trigger every </span><span class="si">{</span><span class="n">interval</span><span class="si">}</span><span class="s2">µm from </span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2">µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Trigger output is typically 0V/5V TTL signal</p></li>
<li><p>Pulse length in cycles (device-specific)</p></li>
<li><p>Interval generates periodic pulses in window</p></li>
<li><p>DISABLED edge stops all trigger output</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_EDGE">
<span class="sig-name descname"><span class="pre">CMD_EDGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_EDGE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_EDGE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_INTERVAL">
<span class="sig-name descname"><span class="pre">CMD_INTERVAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_INTERVAL'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_INTERVAL" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_LENGTH">
<span class="sig-name descname"><span class="pre">CMD_LENGTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_LENGTH'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_LENGTH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_SRC">
<span class="sig-name descname"><span class="pre">CMD_SRC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_SRC'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_SRC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_START">
<span class="sig-name descname"><span class="pre">CMD_START</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_START'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_START" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_STOP">
<span class="sig-name descname"><span class="pre">CMD_STOP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_STOP'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.CMD_STOP" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_edge">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_edge</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge" title="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge"><span class="pre">TriggerEdge</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_edge" title="Link to this definition"></a></dt>
<dd><p>Get trigger edge detection mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current edge detection mode</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_interval">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_interval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_interval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_interval" title="Link to this definition"></a></dt>
<dd><p>Get periodic trigger interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interval spacing in source signal units</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_length">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_length" title="Link to this definition"></a></dt>
<dd><p>Get trigger pulse duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pulse length in cycles</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_src">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_src</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource" title="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource"><span class="pre">TriggerDataSource</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_src"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_src" title="Link to this definition"></a></dt>
<dd><p>Get trigger data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current monitored signal source</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_start_value">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_start_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_start_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_start_value" title="Link to this definition"></a></dt>
<dd><p>Get trigger window start threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Start value in source signal units</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_stop_value">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stop_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.get_stop_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.get_stop_value" title="Link to this definition"></a></dt>
<dd><p>Get trigger window stop threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Stop value in source signal units</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.trigger_out.TriggerOut.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge" title="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge"><span class="pre">TriggerEdge</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource" title="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource"><span class="pre">TriggerDataSource</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/trigger_out.html#TriggerOut.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut.set" title="Link to this definition"></a></dt>
<dd><p>Configure trigger output parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_value</strong> – Window start threshold (units match source)</p></li>
<li><p><strong>stop_value</strong> – Window stop threshold (units match source)</p></li>
<li><p><strong>interval</strong> – Periodic trigger spacing within window</p></li>
<li><p><strong>length</strong> – Trigger pulse duration cycles</p></li>
<li><p><strong>edge</strong> – Trigger edge detection mode</p></li>
<li><p><strong>src</strong> – Data source to monitor (position or setpoint)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Periodic triggers every 5µm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">trigger_out</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start_value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stop_value</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">interval</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">length</span><span class="o">=</span><span class="mi">500</span>  <span class="c1"># 500 cycles pulse</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only provided parameters are updated</p></li>
<li><p>start_value should be less than stop_value</p></li>
<li><p>interval=0 disables periodic triggers</p></li>
<li><p>Units depend on selected source (typically µm or V)</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.capabilities.units">
<span id="configuration"></span><h4>Configuration<a class="headerlink" href="#module-psj_lib.devices.base.capabilities.units" title="Link to this heading"></a></h4>
<p>Unit information capability for device measurements.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.units.Units">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Units</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/units.html#Units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.units.Units" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Query device measurement units for voltage and position.</p>
<p>Provides methods to retrieve the units of measurement used by the
device for voltage and position values. Units may vary by device
configuration or hardware model.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">units</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage_unit</span> <span class="o">=</span> <span class="k">await</span> <span class="n">units</span><span class="o">.</span><span class="n">get_voltage_unit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">position_unit</span> <span class="o">=</span> <span class="k">await</span> <span class="n">units</span><span class="o">.</span><span class="n">get_position_unit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Voltage: </span><span class="si">{</span><span class="n">voltage_unit</span><span class="si">}</span><span class="s2">, Position: </span><span class="si">{</span><span class="n">position_unit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Voltage: V, Position: µm</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Units are device-specific and may be configurable</p></li>
<li><p>Common voltage units: V, mV</p></li>
<li><p>Common position units: µm, mrad</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.units.Units.CMD_UNIT_POSITION">
<span class="sig-name descname"><span class="pre">CMD_UNIT_POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'UNIT_POSITION'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.units.Units.CMD_UNIT_POSITION" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.units.Units.CMD_UNIT_VOLTAGE">
<span class="sig-name descname"><span class="pre">CMD_UNIT_VOLTAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'UNIT_VOLTAGE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.units.Units.CMD_UNIT_VOLTAGE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.units.Units.get_position_unit">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_position_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/units.html#Units.get_position_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.units.Units.get_position_unit" title="Link to this definition"></a></dt>
<dd><p>Get the unit of measurement for position values (closed loop).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unit string (e.g., ‘µm’, ‘mrad’)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">get_position_unit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Position is measured in </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.units.Units.get_voltage_unit">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_voltage_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/units.html#Units.get_voltage_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.units.Units.get_voltage_unit" title="Link to this definition"></a></dt>
<dd><p>Get the unit of measurement for voltage values (open loop).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unit string (e.g., ‘V’, ‘mV’)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">get_voltage_unit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Voltage is measured in </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.factory_reset">Factory reset capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.factory_reset.FactoryReset">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FactoryReset</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/factory_reset.html#FactoryReset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.factory_reset.FactoryReset" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Reset device to factory default settings.</p>
<p>Restores all device parameters to their factory default values.
Depending on the device implementation, this includes PID parameters,
filters, control modes, and all other configurable settings.</p>
<p><strong>WARNING: This operation cannot be undone!</strong></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reset</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">factory_reset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Save current settings first!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="s2">&quot;settings_backup.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reset to factory defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">reset</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Device parameters now at factory values</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><strong>All custom settings are lost</strong></p></li>
<li><p>Use device.backup() to save configuration first</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.factory_reset.FactoryReset.CMD_RESET">
<span class="sig-name descname"><span class="pre">CMD_RESET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FACTORY_RESET'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.factory_reset.FactoryReset.CMD_RESET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.factory_reset.FactoryReset.execute">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/factory_reset.html#FactoryReset.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.factory_reset.FactoryReset.execute" title="Link to this definition"></a></dt>
<dd><p>Execute factory reset operation.</p>
<p><strong>WARNING: This permanently erases all custom settings!</strong></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Backup first!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="s2">&quot;config_backup.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Then reset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">factory_reset</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Device reset to factory defaults&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Cannot be undone</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p id="module-psj_lib.devices.base.capabilities.fan">Cooling fan control capability.</p>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.fan.Fan">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Fan</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/fan.html#Fan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.fan.Fan" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>Control device/channel cooling fan operation.</p>
<p>Enables or disables the internal cooling fan for thermal management.
The fan helps dissipate heat from power electronics during operation.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fan</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">fan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Enable cooling fan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">fan</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check fan status</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_running</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fan</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fan: </span><span class="si">{</span><span class="s1">&#39;On&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">is_running</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Off&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Not all devices have controllable fans</p></li>
<li><p>Some fans run automatically based on temperature</p></li>
<li><p>Disabling may cause thermal shutdown under heavy load</p></li>
<li><p>Fan noise may affect sensitive measurements</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.fan.Fan.CMD_ENABLE">
<span class="sig-name descname"><span class="pre">CMD_ENABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FAN_ENABLE'</span></em><a class="headerlink" href="#psj_lib.devices.base.capabilities.fan.Fan.CMD_ENABLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.fan.Fan.get_enabled">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_enabled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/fan.html#Fan.get_enabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.fan.Fan.get_enabled" title="Link to this definition"></a></dt>
<dd><p>Check if the cooling fan is enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if fan is running, False if stopped</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">fan</span><span class="o">.</span><span class="n">get_enabled</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fan is running&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fan is off&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.capabilities.fan.Fan.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/capabilities/fan.html#Fan.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.capabilities.fan.Fan.set" title="Link to this definition"></a></dt>
<dd><p>Enable or disable the cooling fan.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enabled</strong> – True to turn fan on, False to turn off</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Turn fan on for active cooling</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">fan</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Turn off for quiet operation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">fan</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Disabling may limit operating power</p></li>
<li><p>Monitor temperature if fan is disabled</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_status_register">
<span id="d-drive-specific-capabilities"></span><h3>d-Drive Specific Capabilities<a class="headerlink" href="#module-psj_lib.devices.d_drive_family.capabilities.d_drive_status_register" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveStatusRegister</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_status_register.html#DDriveStatusRegister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.status.StatusRegister" title="psj_lib.devices.base.capabilities.status.StatusRegister"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatusRegister</span></code></a></p>
<p>d-Drive hardware status register with bit-mapped state information.</p>
<p>Decodes the d-Drive status register word into individual boolean and
enumerated properties representing the amplifier channel’s current state.</p>
<p>The status register provides real-time information about:
- Actuator connection status
- Position sensor type
- Output voltage enable state
- Closed-loop control activation
- Active waveform type
- Filter enable states</p>
<dl class="simple">
<dt>Properties:</dt><dd><p>actor_plugged (bool): Actuator physically connected
sensor_type (SensorType): Position sensor type (STRAIN_GAUGE, CAPACITIVE, etc.)
piezo_voltage_enabled (bool): High voltage output enabled
closed_loop (bool): Closed-loop control active
waveform_generator_status (DDriveWaveformGeneratorStatus): Active waveform type
notch_filter_active (bool): Notch filter enabled
low_pass_filter_active (bool): Low-pass filter enabled</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">status_register</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Actuator plugged: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">actor_plugged</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sensor type: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">sensor_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Closed-loop: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">closed_loop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Waveform: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">waveform_generator_status</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Notch filter: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">notch_filter_active</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Status is read-only (reports hardware state)</p></li>
<li><p>Decoded from 16-bit status register word</p></li>
<li><p>Bit positions defined by d-Drive firmware</p></li>
</ul>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.actor_plugged">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">actor_plugged</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.actor_plugged" title="Link to this definition"></a></dt>
<dd><p>Actuator connection status (bit 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if piezo actuator is physically connected and detected.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The d-Drive automatically detects actuator connection on power-up
or when an actuator is plugged in.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.closed_loop">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">closed_loop</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.closed_loop" title="Link to this definition"></a></dt>
<dd><p>Closed-loop control activation status (bit 7).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if sensor-based feedback control is active.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>When True: PID controller drives actuator to match setpoint</p></li>
<li><p>When False: Open-loop operation (direct voltage control)</p></li>
<li><p>Requires valid sensor signal to enable</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.low_pass_filter_active">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">low_pass_filter_active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.low_pass_filter_active" title="Link to this definition"></a></dt>
<dd><p>Low-pass filter enable status (bit 13).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if low-pass filter is enabled and actively filtering.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Low-pass filter reduces high-frequency noise in position or
control signals for smoother operation.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.notch_filter_active">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">notch_filter_active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.notch_filter_active" title="Link to this definition"></a></dt>
<dd><p>Notch filter enable status (bit 12).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if notch filter is enabled and actively filtering.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notch filter suppresses specific frequencies (typically
mechanical resonances) to improve closed-loop stability.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.piezo_voltage_enabled">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">piezo_voltage_enabled</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.piezo_voltage_enabled" title="Link to this definition"></a></dt>
<dd><p>High voltage output enable status (bit 6).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>True if amplifier output stage is enabled and driving</dt><dd><p>the piezo actuator.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When False, the output is disabled for safety. This may occur:
- After power-up when no actuator is detected
- On error conditions
- When explicitly disabled by user</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.sensor_type">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sensor_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.piezo_types.SensorType" title="psj_lib.devices.base.piezo_types.SensorType"><span class="pre">SensorType</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.sensor_type" title="Link to this definition"></a></dt>
<dd><p>Position sensor type identification (bits 1-2).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Type of position sensor in connected actuator.</dt><dd><p>Common types: STRAIN_GAUGE, CAPACITIVE, LVDT, etc.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.piezo_types.SensorType" title="psj_lib.devices.base.piezo_types.SensorType">SensorType</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sensor type is auto-detected from actuator’s identification.
Different sensor types may have different characteristics
(resolution, linearity, temperature sensitivity).</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.waveform_generator_status">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">waveform_generator_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus" title="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus"><span class="pre">DDriveWaveformGeneratorStatus</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveStatusRegister.waveform_generator_status" title="Link to this definition"></a></dt>
<dd><p>Active waveform generator type (bits 9-11).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Currently active waveform type.</dt><dd><p>INACTIVE if no waveform is running, otherwise SINE, TRIANGLE,
RECTANGLE, NOISE, or SWEEP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus" title="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus">DDriveWaveformGeneratorStatus</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">status_register</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfg</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">waveform_generator_status</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">wfg</span> <span class="o">!=</span> <span class="n">DDriveWaveformGeneratorStatus</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Active waveform: </span><span class="si">{</span><span class="n">wfg</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns UNKNOWN if hardware reports unrecognized value.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveWaveformGeneratorStatus</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_status_register.html#DDriveWaveformGeneratorStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>d-Drive waveform generator status from hardware status register.</p>
<p>Indicates which waveform type is currently active in the waveform
generator. This is read from bits 9-11 of the d-Drive status register.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.INACTIVE">
<span class="sig-name descname"><span class="pre">INACTIVE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.INACTIVE" title="Link to this definition"></a></dt>
<dd><p>No waveform generation active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.SINE">
<span class="sig-name descname"><span class="pre">SINE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.SINE" title="Link to this definition"></a></dt>
<dd><p>Sinusoidal waveform active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.TRIANGLE">
<span class="sig-name descname"><span class="pre">TRIANGLE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.TRIANGLE" title="Link to this definition"></a></dt>
<dd><p>Triangle waveform active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.RECTANGLE">
<span class="sig-name descname"><span class="pre">RECTANGLE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.RECTANGLE" title="Link to this definition"></a></dt>
<dd><p>Rectangle/square waveform active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.NOISE">
<span class="sig-name descname"><span class="pre">NOISE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.NOISE" title="Link to this definition"></a></dt>
<dd><p>Noise waveform active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.SWEEP">
<span class="sig-name descname"><span class="pre">SWEEP</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.SWEEP" title="Link to this definition"></a></dt>
<dd><p>Sweep/ramp waveform active</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_status_register.DDriveWaveformGeneratorStatus.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Status value not recognized (error condition)</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">status_register</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">waveform_generator_status</span> <span class="o">==</span> <span class="n">DDriveWaveformGeneratorStatus</span><span class="o">.</span><span class="n">SINE</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sine wave is running&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">INACTIVE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id12" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">NOISE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#id13" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">RECTANGLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id14" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">SINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id15" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">SWEEP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#id16" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">TRIANGLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id17" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id18" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveScanType</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveScanType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>d-Drive automated scan patterns.</p>
<p>Defines automated scan sequences for the waveform generator, providing
single or double scan cycles with different waveform shapes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.OFF">
<span class="sig-name descname"><span class="pre">OFF</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.OFF" title="Link to this definition"></a></dt>
<dd><p>No automated scanning</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.SINE_ONCE">
<span class="sig-name descname"><span class="pre">SINE_ONCE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.SINE_ONCE" title="Link to this definition"></a></dt>
<dd><p>Single sinusoidal scan (one complete cycle)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.TRIANGLE_ONCE">
<span class="sig-name descname"><span class="pre">TRIANGLE_ONCE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.TRIANGLE_ONCE" title="Link to this definition"></a></dt>
<dd><p>Single triangular scan (up and down)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.SINE_TWICE">
<span class="sig-name descname"><span class="pre">SINE_TWICE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.SINE_TWICE" title="Link to this definition"></a></dt>
<dd><p>Double sinusoidal scan (two complete cycles)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.TRIANGLE_TWICE">
<span class="sig-name descname"><span class="pre">TRIANGLE_TWICE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.TRIANGLE_TWICE" title="Link to this definition"></a></dt>
<dd><p>Double triangular scan (two up/down cycles)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Unrecognized scan type (error condition)</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveScanType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Start single triangle scan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span><span class="o">.</span><span class="n">start_scan</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveScanType</span><span class="o">.</span><span class="n">TRIANGLE_ONCE</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wait for completion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span><span class="o">.</span><span class="n">is_scan_running</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Scan automatically stops after completing specified cycles.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">OFF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id19" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">SINE_ONCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id20" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id21">
<span class="sig-name descname"><span class="pre">SINE_TWICE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id21" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id22">
<span class="sig-name descname"><span class="pre">TRIANGLE_ONCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id22" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id23">
<span class="sig-name descname"><span class="pre">TRIANGLE_TWICE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#id23" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id24">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id24" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveWaveformGenerator</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PiezoCapability</span></code></p>
<p>d-Drive multi-waveform generator for scanning and modulation.</p>
<p>Provides built-in waveform generation with multiple waveform types for
automated scanning, periodic motion, and signal modulation. Each waveform
type has independent parameter configuration.</p>
<p>Available waveforms:
- SINE: Sinusoidal motion with amplitude, offset, and frequency control
- TRIANGLE: Triangular scanning with adjustable duty cycle
- RECTANGLE: Square wave with duty cycle control
- NOISE: Random noise
- SWEEP: Linear frequency sweep/ramp</p>
<p>Features:
- Multiple waveform types with independent parameters
- Sub-generator properties for each waveform type
- Automated scan sequences (single or double cycles)
- Synchronous with 50 kHz control loop</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveWaveformType</span><span class="p">,</span> <span class="n">DDriveScanType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfg</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure sine wave for 10 Hz scanning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">sine</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span>  <span class="c1"># 20 µm peak-to-peak</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>     <span class="c1"># Center at 50 µm</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">10.0</span>   <span class="c1"># 10 Hz</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span><span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure triangle with asymmetric duty cycle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">triangle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">70.0</span>  <span class="c1"># 70% rise, 30% fall</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span><span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">TRIANGLE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Start automated single scan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">start_scan</span><span class="p">(</span><span class="n">DDriveScanType</span><span class="o">.</span><span class="n">TRIANGLE_ONCE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">is_scan_running</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Properties:</dt><dd><p>sine: Sine waveform sub-generator configuration
triangle: Triangle waveform sub-generator configuration
rectangle: Rectangle waveform sub-generator configuration
noise: Noise generator configuration
sweep: Sweep/ramp generator configuration</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Configure waveform parameters before activating type</p></li>
<li><p>Only one waveform type active at a time</p></li>
<li><p>Waveform generation rate synchronized with control loop (50 kHz)</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_NOISE_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_NOISE_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_NOISE_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_NOISE_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_NOISE_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_NOISE_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_NOISE_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_NOISE_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_REC_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_RECTANGLE_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_DUTY_CYCLE">
<span class="sig-name descname"><span class="pre">CMD_REC_DUTY_CYCLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_RECTANGLE_DUTY_CYCLE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_DUTY_CYCLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_REC_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_RECTANGLE_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_REC_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_RECTANGLE_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_REC_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SCAN_START">
<span class="sig-name descname"><span class="pre">CMD_SCAN_START</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SCAN_START'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SCAN_START" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SCAN_TYPE">
<span class="sig-name descname"><span class="pre">CMD_SCAN_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SCAN_TYPE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SCAN_TYPE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_SINE_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SINE_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_SINE_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SINE_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_SINE_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SINE_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SINE_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_SWEEP_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SWEEP_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_SWEEP_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SWEEP_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_TIME">
<span class="sig-name descname"><span class="pre">CMD_SWEEP_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_SWEEP_TIME'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_SWEEP_TIME" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_AMPLITUDE">
<span class="sig-name descname"><span class="pre">CMD_TRI_AMPLITUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_TRIANGLE_AMPLITUDE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_AMPLITUDE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_DUTY_CYCLE">
<span class="sig-name descname"><span class="pre">CMD_TRI_DUTY_CYCLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_TRIANGLE_DUTY_CYCLE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_DUTY_CYCLE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_FREQUENCY">
<span class="sig-name descname"><span class="pre">CMD_TRI_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_TRIANGLE_FREQUENCY'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_FREQUENCY" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_TRI_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_TRIANGLE_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_TRI_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_WFG_TYPE">
<span class="sig-name descname"><span class="pre">CMD_WFG_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WFG_TYPE'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.CMD_WFG_TYPE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_commands</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the capability with command execution callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_cb</strong> – Function to execute device commands</p></li>
<li><p><strong>device_commands</strong> – Mapping of command IDs to device strings</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.get_waveform_type">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_waveform_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType" title="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType"><span class="pre">DDriveWaveformType</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator.get_waveform_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.get_waveform_type" title="Link to this definition"></a></dt>
<dd><p>Query currently active waveform type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Currently active waveform type, or NONE</dt><dd><p>if generator is disabled.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType" title="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType">DDriveWaveformType</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfg_type</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">get_waveform_type</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Active waveform: </span><span class="si">{</span><span class="n">wfg_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.is_scan_running">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_scan_running</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator.is_scan_running"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.is_scan_running" title="Link to this definition"></a></dt>
<dd><p>Check if automated scan is currently active.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if scan is running, False if idle or completed.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">start_scan</span><span class="p">(</span><span class="n">DDriveScanType</span><span class="o">.</span><span class="n">SINE_ONCE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wait for scan to complete</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">is_scan_running</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scan completed&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.noise">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">noise</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator"><span class="pre">StaticWaveformGenerator</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.noise" title="Link to this definition"></a></dt>
<dd><p>Noise generator configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Configuration interface for random</dt><dd><p>noise with amplitude and offset parameters.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">StaticWaveformGenerator</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">noise</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>  <span class="c1"># ±2 µm random variation</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span>     <span class="c1"># Centered at 50 µm</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.rectangle">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rectangle</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator"><span class="pre">StaticWaveformGenerator</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.rectangle" title="Link to this definition"></a></dt>
<dd><p>Rectangle waveform sub-generator configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Configuration interface for rectangular</dt><dd><p>(square) waveform with amplitude, offset, frequency, and duty cycle.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">StaticWaveformGenerator</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">rectangle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">30.0</span>  <span class="c1"># 30% high, 70% low</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>duty_cycle controls high/low ratio: 50% is square wave.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.set_waveform_type">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_waveform_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType" title="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType"><span class="pre">DDriveWaveformType</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator.set_waveform_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.set_waveform_type" title="Link to this definition"></a></dt>
<dd><p>Activate specific waveform type.</p>
<p>Switches the active waveform generator to the specified type. The
waveform parameters should be configured via the corresponding
sub-generator property before activation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>waveform_type</strong> – Type of waveform to activate (SINE, TRIANGLE,
RECTANGLE, NOISE, SWEEP, or NONE to disable).</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveWaveformType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure then activate sine wave</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">sine</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">amplitude</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span><span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Disable waveform</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span><span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting to NONE disables waveform generation.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.sine">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator"><span class="pre">StaticWaveformGenerator</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.sine" title="Link to this definition"></a></dt>
<dd><p>Sine waveform sub-generator configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Configuration interface for sinusoidal</dt><dd><p>waveform with amplitude, offset, and frequency parameters.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">StaticWaveformGenerator</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">sine</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span>  <span class="c1"># 15 µm amplitude</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>     <span class="c1"># Centered at 50 µm</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">20.0</span>   <span class="c1"># 20 Hz</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.start_scan">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start_scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType" title="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveScanType"><span class="pre">DDriveScanType</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformGenerator.start_scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.start_scan" title="Link to this definition"></a></dt>
<dd><p>Start automated scan sequence.</p>
<p>Initiates an automated scan with the specified pattern. The scan
uses the currently configured waveform parameters and runs for
the specified number of cycles before stopping automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scan_type</strong> – Type of scan to perform (SINE_ONCE, TRIANGLE_ONCE,
SINE_TWICE, TRIANGLE_TWICE, or OFF to stop).</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveScanType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure triangle waveform first</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">triangle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">40.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">2.0</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span><span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">TRIANGLE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Start single scan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">start_scan</span><span class="p">(</span><span class="n">DDriveScanType</span><span class="o">.</span><span class="n">TRIANGLE_ONCE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Monitor progress</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">is_scan_running</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Position: </span><span class="si">{</span><span class="n">pos</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Scan stops automatically after completing cycles</p></li>
<li><p>Check status with is_scan_running()</p></li>
<li><p>Waveform must be configured before starting scan</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.sweep">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sweep</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator"><span class="pre">StaticWaveformGenerator</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.sweep" title="Link to this definition"></a></dt>
<dd><p>Sweep (ramp) generator configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Configuration interface for linear</dt><dd><p>sweep with amplitude, offset, and time (instead of frequency).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">StaticWaveformGenerator</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">sweep</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">80.0</span><span class="p">,</span>  <span class="c1"># Sweep range 80 µm</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>     <span class="c1"># Start at 10 µm</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">2.0</span>    <span class="c1"># Actually sweep time: 2 seconds</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For sweep, ‘frequency’ parameter actually represents sweep
time in seconds (linear ramp duration).</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.triangle">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triangle</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator"><span class="pre">StaticWaveformGenerator</span></a></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformGenerator.triangle" title="Link to this definition"></a></dt>
<dd><p>Triangle waveform sub-generator configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Configuration interface for triangular</dt><dd><p>waveform with amplitude, offset, frequency, and duty cycle.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator" title="psj_lib.devices.base.capabilities.static_waveform_generator.StaticWaveformGenerator">StaticWaveformGenerator</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">wfg</span><span class="o">.</span><span class="n">triangle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">amplitude</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">frequency</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">70.0</span>  <span class="c1"># 70% rise time, 30% fall time</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>duty_cycle controls asymmetry: 50% is symmetric, &gt;50% is
slower rise, &lt;50% is faster rise.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveWaveformType</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_waveform_generator.html#DDriveWaveformType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>d-Drive waveform generator output types.</p>
<p>Defines the types of waveforms available from the d-Drive’s built-in
waveform generator for scanning and modulation applications.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.NONE" title="Link to this definition"></a></dt>
<dd><p>No waveform output (generator disabled)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.SINE">
<span class="sig-name descname"><span class="pre">SINE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.SINE" title="Link to this definition"></a></dt>
<dd><p>Sinusoidal waveform</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.TRIANGLE">
<span class="sig-name descname"><span class="pre">TRIANGLE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.TRIANGLE" title="Link to this definition"></a></dt>
<dd><p>Triangular waveform</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.RECTANGLE">
<span class="sig-name descname"><span class="pre">RECTANGLE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.RECTANGLE" title="Link to this definition"></a></dt>
<dd><p>Square/rectangular waveform</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.NOISE">
<span class="sig-name descname"><span class="pre">NOISE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.NOISE" title="Link to this definition"></a></dt>
<dd><p>Random noise</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.SWEEP">
<span class="sig-name descname"><span class="pre">SWEEP</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.SWEEP" title="Link to this definition"></a></dt>
<dd><p>Linear frequency sweep/ramp</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_waveform_generator.DDriveWaveformType.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Unrecognized waveform type (error condition)</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveWaveformType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">waveform_generator</span><span class="o">.</span><span class="n">set_waveform_type</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveWaveformType</span><span class="o">.</span><span class="n">SINE</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">NOISE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#id25" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id26" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id27">
<span class="sig-name descname"><span class="pre">RECTANGLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id27" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id28">
<span class="sig-name descname"><span class="pre">SINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id28" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id29">
<span class="sig-name descname"><span class="pre">SWEEP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#id29" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id30">
<span class="sig-name descname"><span class="pre">TRIANGLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id30" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id31">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id31" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveDataRecorder</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_data_recorder.html#DDriveDataRecorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorder" title="psj_lib.devices.base.capabilities.data_recorder.DataRecorder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataRecorder</span></code></a></p>
<p>d-Drive specific data recorder implementation.</p>
<p>The d-Drive data recorder captures two channels simultaneously:
- Channel 1 (POSITION): Position sensor signal in device units (µm, mrad, etc.)
- Channel 2 (VOLTAGE): Actuator voltage in volts</p>
<p>Recording specifications:
- Maximum 500,000 samples per channel
- 50 kHz sample rate (20 µs period) maximum
- Stride (decimation) from 1 to 65535
- Both channels always record the same length</p>
<p>The d-Drive returns data in a device-specific format that requires
special parsing, which this class handles automatically.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">recorder</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure for 1 second at full rate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">memory_length</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... perform motion ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get position data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">POSITION</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get voltage data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vol_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">VOLTAGE</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>get_memory_length() and get_stride() not supported by d-Drive</p></li>
<li><p>Use the values you configured with set() to track settings</p></li>
<li><p>Data format is automatically parsed from d-Drive response</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel" title="psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel"><span class="pre">DataRecorderChannel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_data_recorder.html#DDriveDataRecorder.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_data" title="Link to this definition"></a></dt>
<dd><p>Read a single data sample from specified channel.</p>
<p>The d-Drive returns data in format “m,value” (position) or
“u,value” (voltage) which is automatically parsed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – Which channel to read (POSITION or VOLTAGE)</p></li>
<li><p><strong>index</strong> – Sample index (0 to memory_length-1), or None for
next sequential sample</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Single data sample value as float</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read position at index 100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">POSITION</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="mi">100</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read next voltage sample</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">voltage</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">VOLTAGE</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The d-Drive returns “m,value” or “u,value” format.
This method automatically extracts the numeric value.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_memory_length">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_memory_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_data_recorder.html#DDriveDataRecorder.get_memory_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_memory_length" title="Link to this definition"></a></dt>
<dd><p>Get configured recording length.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Always returns 500000 (hardware maximum) as d-Drive does not support
reading back this configuration value.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The d-Drive hardware does not provide a read command for
memory length. This returns the maximum hardware capacity.
Use recorder.sample_rate to calculate recording duration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_stride">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stride</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_data_recorder.html#DDriveDataRecorder.get_stride"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorder.get_stride" title="Link to this definition"></a></dt>
<dd><p>Get decimation stride factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Always returns 0 as d-Drive does not support reading back
this configuration value. Track the value you set manually.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The d-Drive hardware does not provide a read command for
stride. Use the value you configured with set().</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveDataRecorderChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_data_recorder.html#DDriveDataRecorderChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel" title="psj_lib.devices.base.capabilities.data_recorder.DataRecorderChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataRecorderChannel</span></code></a></p>
<p>d-Drive data recorder channel aliases with semantic names.</p>
<p>Provides meaningful names for the two hardware data recorder channels
in d-Drive amplifiers. The d-Drive always records position on channel 1
and actuator voltage on channel 2.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.POSITION">
<span class="sig-name descname"><span class="pre">POSITION</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.POSITION" title="Link to this definition"></a></dt>
<dd><p>Position sensor signal (alias for CHANNEL_1).
Records actual measured position from the sensor.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.VOLTAGE">
<span class="sig-name descname"><span class="pre">VOLTAGE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.VOLTAGE" title="Link to this definition"></a></dt>
<dd><p>Actuator voltage signal (alias for CHANNEL_2).
Records the output voltage applied to the piezo actuator.</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveDataRecorderChannel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configure recorder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">memory_length</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>  <span class="c1"># 1 second at 50 kHz</span>
<span class="gp">... </span>    <span class="n">stride</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... perform motion ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve position data using semantic name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">POSITION</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve voltage data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vol_data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveDataRecorderChannel</span><span class="o">.</span><span class="n">VOLTAGE</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recorded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pos_data</span><span class="p">)</span><span class="si">}</span><span class="s2"> position samples&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recorded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">vol_data</span><span class="p">)</span><span class="si">}</span><span class="s2"> voltage samples&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Both channels always record simultaneously</p></li>
<li><p>Sample rate: 50 kHz (20 µs period) maximum</p></li>
<li><p>Maximum 500,000 samples per channel</p></li>
<li><p>POSITION and VOLTAGE are semantic aliases for hardware channels</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id32">
<span class="sig-name descname"><span class="pre">POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id32" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id33">
<span class="sig-name descname"><span class="pre">VOLTAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id33" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_data_recorder.DDriveDataRecorderChannel.__new__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveTriggerOut</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_trigger_out.html#DDriveTriggerOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerOut" title="psj_lib.devices.base.capabilities.trigger_out.TriggerOut"><code class="xref py py-class docutils literal notranslate"><span class="pre">TriggerOut</span></code></a></p>
<p>d-Drive hardware trigger output with offset compensation.</p>
<p>Extends base TriggerOut capability with an additional offset parameter
for phase compensation. Generates TTL pulses synchronized with actuator
position or setpoint values.</p>
<p>The trigger output can generate pulses:
- At specific position or voltage ranges
- At regular intervals within those ranges
- On rising, falling, or both edges
- With configurable pulse width
- With offset for phase/timing adjustment (d-Drive specific for setpoints)</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">TriggerEdge</span><span class="p">,</span> <span class="n">TriggerDataSource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate trigger every 10 µm from 20 to 80 µm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">trigger_out</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start_value</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stop_value</span><span class="o">=</span><span class="mf">80.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">interval</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>  <span class="c1"># Trigger every 10 µm</span>
<span class="gp">... </span>    <span class="n">length</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>    <span class="c1"># 1000 cycle width (20 ms)</span>
<span class="gp">... </span>    <span class="n">edge</span><span class="o">=</span><span class="n">TriggerEdge</span><span class="o">.</span><span class="n">BOTH</span><span class="p">,</span>  <span class="c1"># Trigger on up and down motion</span>
<span class="gp">... </span>    <span class="n">src</span><span class="o">=</span><span class="n">TriggerDataSource</span><span class="o">.</span><span class="n">POSITION</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">0.5</span>  <span class="c1"># 0.5 µm phase compensation</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read current offset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_offset</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">trigger_out</span><span class="o">.</span><span class="n">get_offset</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Offset parameter is d-Drive specific extension</p></li>
<li><p>Trigger timing resolution depends on control loop rate (50 kHz)</p></li>
<li><p>Length specified in cycles (actual time = cycles * 20µs)</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.CMD_OFFSET">
<span class="sig-name descname"><span class="pre">CMD_OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRIGGER_OUT_OFFSET'</span></em><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.CMD_OFFSET" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.get_offset">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_offset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_trigger_out.html#DDriveTriggerOut.get_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.get_offset" title="Link to this definition"></a></dt>
<dd><p>Read current trigger offset value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Trigger offset in position units.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">trigger_out</span><span class="o">.</span><span class="n">get_offset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trigger offset: </span><span class="si">{</span><span class="n">offset</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> µm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Offset is d-Drive specific parameter for phase compensation.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.set">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerEdge" title="psj_lib.devices.base.capabilities.trigger_out.TriggerEdge"><span class="pre">TriggerEdge</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource" title="psj_lib.devices.base.capabilities.trigger_out.TriggerDataSource"><span class="pre">TriggerDataSource</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_trigger_out.html#DDriveTriggerOut.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_trigger_out.DDriveTriggerOut.set" title="Link to this definition"></a></dt>
<dd><p>Configure trigger output parameters including d-Drive offset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_value</strong> – Starting position/voltage for trigger window (in current units).</p></li>
<li><p><strong>stop_value</strong> – Ending position/voltage for trigger window (in current units).</p></li>
<li><p><strong>interval</strong> – Spacing between triggers within window (in current units).
If None, single trigger at start_value.</p></li>
<li><p><strong>length</strong> – Trigger pulse width in microseconds.</p></li>
<li><p><strong>edge</strong> – Trigger on RISING, FALLING, or BOTH position crossings.</p></li>
<li><p><strong>src</strong> – Data source for trigger comparison (POSITION or SETPOINT).</p></li>
<li><p><strong>offset</strong> – Phase/timing offset in position units (d-Drive specific, see device manual).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">TriggerEdge</span><span class="p">,</span> <span class="n">TriggerDataSource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trigger every 5 µm during upward scan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">trigger_out</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start_value</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stop_value</span><span class="o">=</span><span class="mf">90.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">interval</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">length</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>  <span class="c1"># 500 cycle width (10 ms)</span>
<span class="gp">... </span>    <span class="n">edge</span><span class="o">=</span><span class="n">TriggerEdge</span><span class="o">.</span><span class="n">RISING</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">src</span><span class="o">=</span><span class="n">TriggerDataSource</span><span class="o">.</span><span class="n">POSITION</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">offset</span><span class="o">=</span><span class="mf">0.2</span>  <span class="c1"># Compensate 0.2 µm delay</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>All parameters optional; only specified values are updated</p></li>
<li><p>Offset unique to d-Drive</p></li>
<li><p>Trigger activates automatically when actuator enters window</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveModulationSourceTypes</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_modulation_source.html#DDriveModulationSourceTypes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes" title="psj_lib.devices.base.capabilities.modulation_source.ModulationSourceTypes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModulationSourceTypes</span></code></a></p>
<p>d-Drive modulation source types for external control input.</p>
<p>Defines available modulation input sources specific to d-Drive amplifiers.
These sources allow external control of the actuator position or voltage.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.SERIAL_ENCODER">
<span class="sig-name descname"><span class="pre">SERIAL_ENCODER</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.SERIAL_ENCODER" title="Link to this definition"></a></dt>
<dd><p>Serial interface + encoder knob is used for modulation.
When sending a setpoint, the encoder offset is set to zero. Rotate the knob to apply an offset.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.SERIAL_ENCODER_ANALOG">
<span class="sig-name descname"><span class="pre">SERIAL_ENCODER_ANALOG</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.SERIAL_ENCODER_ANALOG" title="Link to this definition"></a></dt>
<dd><p>Serial interface + encoder knob + analog input is used for modulation.
When sending a setpoint, the encoder offset is set to zero. Rotate the knob to apply an offset.
Additionally, an analog voltage input (0-10 V) can be used to apply a further offset.</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveModulationSourceTypes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">modulation_source</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveModulationSourceTypes</span><span class="o">.</span><span class="n">SERIAL_ENCODER</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">modulation_source</span><span class="o">.</span><span class="n">get_source</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Active source: </span><span class="si">{</span><span class="n">current</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id34">
<span class="sig-name descname"><span class="pre">SERIAL_ENCODER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id34" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id35">
<span class="sig-name descname"><span class="pre">SERIAL_ENCODER_ANALOG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id35" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_modulation_source.DDriveModulationSourceTypes.__new__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDriveMonitorOutputSource</span></span><a class="reference internal" href="_modules/psj_lib/devices/d_drive_family/capabilities/d_drive_monitor_output.html#DDriveMonitorOutputSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource" title="psj_lib.devices.base.capabilities.monitor_output.MonitorOutputSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitorOutputSource</span></code></a></p>
<p>d-Drive analog monitor output source selection.</p>
<p>Defines internal signals that can be routed to the analog monitor
output connector for real-time observation with oscilloscopes or
other measurement equipment.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.CLOSED_LOOP_POSITION">
<span class="sig-name descname"><span class="pre">CLOSED_LOOP_POSITION</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.CLOSED_LOOP_POSITION" title="Link to this definition"></a></dt>
<dd><p>Closed-loop position value from sensor feedback.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.SETPOINT">
<span class="sig-name descname"><span class="pre">SETPOINT</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.SETPOINT" title="Link to this definition"></a></dt>
<dd><p>Commanded target position (setpoint value).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.CONTROLLER_VOLTAGE">
<span class="sig-name descname"><span class="pre">CONTROLLER_VOLTAGE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.CONTROLLER_VOLTAGE" title="Link to this definition"></a></dt>
<dd><p>Internal amplifier control voltage.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.POSITION_ERROR">
<span class="sig-name descname"><span class="pre">POSITION_ERROR</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.POSITION_ERROR" title="Link to this definition"></a></dt>
<dd><p>Position error signal (setpoint - actual position).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.POSITION_ERROR_ABS">
<span class="sig-name descname"><span class="pre">POSITION_ERROR_ABS</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.POSITION_ERROR_ABS" title="Link to this definition"></a></dt>
<dd><p>Absolute value of position error.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.ACTUATOR_VOLTAGE">
<span class="sig-name descname"><span class="pre">ACTUATOR_VOLTAGE</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.ACTUATOR_VOLTAGE" title="Link to this definition"></a></dt>
<dd><p>Actual voltage at piezo actuator.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.OPEN_LOOP_POSITION">
<span class="sig-name descname"><span class="pre">OPEN_LOOP_POSITION</span></span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.OPEN_LOOP_POSITION" title="Link to this definition"></a></dt>
<dd><p>Open-loop position value from sensor feedback.</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveMonitorOutputSource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Monitor position error for tuning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">monitor_output</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveMonitorOutputSource</span><span class="o">.</span><span class="n">POSITION_ERROR</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Monitor final output voltage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">monitor_output</span><span class="o">.</span><span class="n">set_source</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">DDriveMonitorOutputSource</span><span class="o">.</span><span class="n">ACTUATOR_VOLTAGE</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Monitor output is a 0-10V analog signal</p></li>
<li><p>Useful for debugging, tuning PID, and system analysis</p></li>
<li><p>See device manual for detailed signal descriptions</p></li>
</ul>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id36">
<span class="sig-name descname"><span class="pre">ACTUATOR_VOLTAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#id36" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id37">
<span class="sig-name descname"><span class="pre">CLOSED_LOOP_POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id37" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id38">
<span class="sig-name descname"><span class="pre">CONTROLLER_VOLTAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id38" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id39">
<span class="sig-name descname"><span class="pre">OPEN_LOOP_POSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">6</span></em><a class="headerlink" href="#id39" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id40">
<span class="sig-name descname"><span class="pre">POSITION_ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id40" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id41">
<span class="sig-name descname"><span class="pre">POSITION_ERROR_ABS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#id41" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id42">
<span class="sig-name descname"><span class="pre">SETPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id42" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psj_lib.devices.d_drive_family.capabilities.d_drive_monitor_output.DDriveMonitorOutputSource.__new__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-psj_lib.devices.base.exceptions">
<span id="exceptions"></span><h3>Exceptions<a class="headerlink" href="#module-psj_lib.devices.base.exceptions" title="Link to this heading"></a></h3>
<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ActuatorNotConnected">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ActuatorNotConnected</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ActuatorNotConnected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ActuatorNotConnected" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Piezo actuator is not physically connected to the device.</p>
<p>Raised when the device detects that the piezo actuator is not
plugged in or properly connected. This may prevent certain
operations that require an active actuator connection.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.AdmissibleParameterRangeExceeded">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AdmissibleParameterRangeExceeded</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#AdmissibleParameterRangeExceeded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.AdmissibleParameterRangeExceeded" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Parameter value is outside the acceptable range for the command.</p>
<p>Raised when a parameter value exceeds the valid range defined by the
device for that particular command. Check device documentation for
valid parameter ranges.</p>
<p class="rubric">Example</p>
<p>Setting a voltage beyond the device’s maximum output capability.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.CommandParameterCountExceeded">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CommandParameterCountExceeded</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#CommandParameterCountExceeded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.CommandParameterCountExceeded" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Too many parameters were provided for the command.</p>
<p>Raised when more parameters are sent than the command expects.
Each command has a defined number of parameters; sending extra
parameters results in this error.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.DeviceError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DeviceError</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#DeviceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.DeviceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base exception class for all device-related errors.</p>
<p>This is the parent exception for all errors that occur during device
communication and operation. Catch this exception to handle any device
error generically, or catch specific subclasses for targeted error handling.</p>
<p>Device errors typically result from:
- Invalid commands or parameters sent to the device
- Hardware conditions (overload, underload)
- Communication protocol violations
- Device configuration issues</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;invalid_command&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">DeviceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ErrorCode</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ErrorCode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enumeration of device error codes with exception class mapping.</p>
<p>This enum defines all possible error codes that can be returned by
piezoelectric devices. Each error code corresponds to a specific
DeviceError exception subclass.</p>
<p>Error codes are returned by the device in response to invalid commands,
parameter violations, or hardware conditions. The ErrorCode class provides
utilities to convert error codes to exceptions and raise appropriate errors.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.ERROR_NOT_SPECIFIED">
<span class="sig-name descname"><span class="pre">ERROR_NOT_SPECIFIED</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.ERROR_NOT_SPECIFIED" title="Link to this definition"></a></dt>
<dd><p>Generic unspecified error (code 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.UNKNOWN_COMMAND">
<span class="sig-name descname"><span class="pre">UNKNOWN_COMMAND</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.UNKNOWN_COMMAND" title="Link to this definition"></a></dt>
<dd><p>Command not recognized by device (code 2)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_MISSING">
<span class="sig-name descname"><span class="pre">PARAMETER_MISSING</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_MISSING" title="Link to this definition"></a></dt>
<dd><p>Required parameter not provided (code 3)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.ADMISSIBLE_PARAMETER_RANGE_EXCEEDED">
<span class="sig-name descname"><span class="pre">ADMISSIBLE_PARAMETER_RANGE_EXCEEDED</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.ADMISSIBLE_PARAMETER_RANGE_EXCEEDED" title="Link to this definition"></a></dt>
<dd><p>Parameter outside valid range (code 4)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.COMMAND_PARAMETER_COUNT_EXCEEDED">
<span class="sig-name descname"><span class="pre">COMMAND_PARAMETER_COUNT_EXCEEDED</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.COMMAND_PARAMETER_COUNT_EXCEEDED" title="Link to this definition"></a></dt>
<dd><p>Too many parameters provided (code 5)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_LOCKED_OR_READ_ONLY">
<span class="sig-name descname"><span class="pre">PARAMETER_LOCKED_OR_READ_ONLY</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_LOCKED_OR_READ_ONLY" title="Link to this definition"></a></dt>
<dd><p>Cannot modify locked/read-only parameter (code 6)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.UNDERLOAD">
<span class="sig-name descname"><span class="pre">UNDERLOAD</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.UNDERLOAD" title="Link to this definition"></a></dt>
<dd><p>Device detected underload condition (code 7)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.OVERLOAD">
<span class="sig-name descname"><span class="pre">OVERLOAD</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.OVERLOAD" title="Link to this definition"></a></dt>
<dd><p>Device detected overload condition (code 8)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_TOO_LOW">
<span class="sig-name descname"><span class="pre">PARAMETER_TOO_LOW</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_TOO_LOW" title="Link to this definition"></a></dt>
<dd><p>Parameter below minimum value (code 9)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_TOO_HIGH">
<span class="sig-name descname"><span class="pre">PARAMETER_TOO_HIGH</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.PARAMETER_TOO_HIGH" title="Link to this definition"></a></dt>
<dd><p>Parameter above maximum value (code 10)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.ACTUATOR_NOT_CONNECTED">
<span class="sig-name descname"><span class="pre">ACTUATOR_NOT_CONNECTED</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.ACTUATOR_NOT_CONNECTED" title="Link to this definition"></a></dt>
<dd><p>Actuator not physically connected (code 98)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.UNKNOWN_CHANNEL">
<span class="sig-name descname"><span class="pre">UNKNOWN_CHANNEL</span></span><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.UNKNOWN_CHANNEL" title="Link to this definition"></a></dt>
<dd><p>Specified channel does not exist (code 99)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">error_code</span> <span class="o">=</span> <span class="n">ErrorCode</span><span class="o">.</span><span class="n">from_value</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">error_code</span><span class="p">)</span>  <span class="c1"># ErrorCode.UNKNOWN_COMMAND</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ErrorCode</span><span class="o">.</span><span class="n">raise_error</span><span class="p">(</span><span class="n">error_code</span><span class="p">)</span>  <span class="c1"># Raises UnknownCommand exception</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id43">
<span class="sig-name descname"><span class="pre">ACTUATOR_NOT_CONNECTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">98</span></em><a class="headerlink" href="#id43" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id44">
<span class="sig-name descname"><span class="pre">ADMISSIBLE_PARAMETER_RANGE_EXCEEDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#id44" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id45">
<span class="sig-name descname"><span class="pre">COMMAND_PARAMETER_COUNT_EXCEEDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#id45" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id46">
<span class="sig-name descname"><span class="pre">ERROR_NOT_SPECIFIED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id46" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id47">
<span class="sig-name descname"><span class="pre">OVERLOAD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#id47" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id48">
<span class="sig-name descname"><span class="pre">PARAMETER_LOCKED_OR_READ_ONLY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">6</span></em><a class="headerlink" href="#id48" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id49">
<span class="sig-name descname"><span class="pre">PARAMETER_MISSING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id49" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id50">
<span class="sig-name descname"><span class="pre">PARAMETER_TOO_HIGH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#id50" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id51">
<span class="sig-name descname"><span class="pre">PARAMETER_TOO_LOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#id51" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id52">
<span class="sig-name descname"><span class="pre">UNDERLOAD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#id52" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id53">
<span class="sig-name descname"><span class="pre">UNKNOWN_CHANNEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id53" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id54">
<span class="sig-name descname"><span class="pre">UNKNOWN_COMMAND</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id54" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.from_value">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorCode" title="psj_lib.devices.base.exceptions.ErrorCode"><span class="pre">ErrorCode</span></a></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ErrorCode.from_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.from_value" title="Link to this definition"></a></dt>
<dd><p>Converts an integer value to its corresponding ErrorCode enum member.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>int</em>) – The integer value representing the error code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The corresponding ErrorCode enum member.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorCode" title="psj_lib.devices.base.exceptions.ErrorCode">ErrorCode</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the value does not correspond to any ErrorCode member.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.get_exception_class">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_exception_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_code</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><span class="pre">DeviceError</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ErrorCode.get_exception_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.get_exception_class" title="Link to this definition"></a></dt>
<dd><p>Returns the appropriate exception class for a given error code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>error_code</strong> (<a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorCode" title="psj_lib.devices.base.exceptions.ErrorCode"><em>ErrorCode</em></a><em> or </em><em>int</em>) – The error code for which to get the exception class.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The exception class corresponding to the error code.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Type[<a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError">DeviceError</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorCode.raise_error">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raise_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ErrorCode.raise_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorCode.raise_error" title="Link to this definition"></a></dt>
<dd><p>Raises the appropriate exception for a given error code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error_code</strong> (<a class="reference internal" href="#psj_lib.devices.base.exceptions.ErrorCode" title="psj_lib.devices.base.exceptions.ErrorCode"><em>ErrorCode</em></a><em> or </em><em>int</em>) – The error code to raise.</p></li>
<li><p><strong>message</strong> (<em>str</em><em>, </em><em>optional</em>) – Custom error message. If not provided, uses default description.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><strong>DeviceError</strong></a> – The specific exception corresponding to the error code.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ErrorNotSpecified">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ErrorNotSpecified</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ErrorNotSpecified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ErrorNotSpecified" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Generic error when the device does not provide specific error details.</p>
<p>Raised when the device reports an error condition but does not provide
a specific error code. This typically indicates an internal device error
or a communication protocol issue.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.Overload">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Overload</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#Overload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.Overload" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Device detected an overload condition.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ParameterLockedOrReadOnly">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParameterLockedOrReadOnly</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ParameterLockedOrReadOnly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ParameterLockedOrReadOnly" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Attempted to modify a read-only or locked parameter.</p>
<p>Raised when trying to write to a parameter that:
- Is inherently read-only (e.g., hardware status, sensor values)
- Is currently locked by device configuration or security settings
- Cannot be changed in the current device operation mode</p>
<p class="rubric">Example</p>
<p>Attempting to change a factory calibration value that is locked.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ParameterMissing">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParameterMissing</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ParameterMissing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ParameterMissing" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Required parameter was not provided with the command.</p>
<p>Raised when a command that requires one or more parameters is sent
without the necessary parameter values.</p>
<p class="rubric">Example</p>
<p>A command expecting a channel number was sent without specifying
which channel to operate on.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ParameterTooHigh">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParameterTooHigh</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ParameterTooHigh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ParameterTooHigh" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Parameter value exceeds the maximum acceptable value.</p>
<p>Raised when a parameter value exceeds the upper bound of the
acceptable range for that parameter.</p>
<p>This is more specific than AdmissibleParameterRangeExceeded,
indicating specifically that the value is too high.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.ParameterTooLow">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParameterTooLow</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#ParameterTooLow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.ParameterTooLow" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Parameter value is below the minimum acceptable value.</p>
<p>Raised when a parameter value is below the lower bound of the
acceptable range for that parameter.</p>
<p>This is more specific than AdmissibleParameterRangeExceeded,
indicating specifically that the value is too low.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.Underload">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Underload</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#Underload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.Underload" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Device detected an underload condition.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.UnknownChannel">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnknownChannel</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#UnknownChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.UnknownChannel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>Specified channel does not exist on the device.</p>
<p>Raised when attempting to access or configure a channel number
that is not present on the connected device.</p>
<p class="rubric">Example</p>
<p>Accessing channel 3 on a single-channel device.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.base.exceptions.UnknownCommand">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnknownCommand</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/exceptions.html#UnknownCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.exceptions.UnknownCommand" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.base.exceptions.DeviceError" title="psj_lib.devices.base.exceptions.DeviceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeviceError</span></code></a></p>
<p>The device does not recognize the command sent.</p>
<p>Raised when attempting to send a command that is not supported by the
device or is not valid for the current device firmware version.</p>
<p>Common causes:
- Typo in command name
- Command not supported by device model
- Firmware version incompatibility</p>
</dd></dl>

</section>
<section id="module-psj_lib.devices.base.piezo_types">
<span id="type-definitions"></span><h3>Type Definitions<a class="headerlink" href="#module-psj_lib.devices.base.piezo_types" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.ActorType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ActorType</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_types.html#ActorType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_types.ActorType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enumeration of piezoelectric actuator connection types and geometries.</p>
<p>Different actuator designs require different electrical driving schemes and have
different characteristics in terms of stroke, force, and response time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.ActorType.NANOX">
<span class="sig-name descname"><span class="pre">NANOX</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.ActorType.NANOX" title="Link to this definition"></a></dt>
<dd><p>piezosystem jena nanoX® actuators.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.ActorType.PSH">
<span class="sig-name descname"><span class="pre">PSH</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.ActorType.PSH" title="Link to this definition"></a></dt>
<dd><p>PSH style piezo actuators (not used anymore).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.ActorType.PARALLEL">
<span class="sig-name descname"><span class="pre">PARALLEL</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.ActorType.PARALLEL" title="Link to this definition"></a></dt>
<dd><p>Normal piezo actuators with parallel output stage configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.ActorType.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.ActorType.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Actuator type could not be determined.
Fallback value when actuator information is unavailable or unrecognized.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>99</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id55">
<span class="sig-name descname"><span class="pre">NANOX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id55" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id56">
<span class="sig-name descname"><span class="pre">PARALLEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id56" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id57">
<span class="sig-name descname"><span class="pre">PSH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id57" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id58">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id58" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.DeviceInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DeviceInfo</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_types.html#DeviceInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_types.DeviceInfo" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Complete information about a connected piezoelectric device.</p>
<p>This dataclass aggregates all identification and configuration information for a
connected device. It combines transport-layer information with device-specific
metadata, providing a complete picture of the device’s identity and capabilities.</p>
<p>This information is typically populated during device discovery or initial connection
and is used throughout the device’s lifecycle for logging, identification, and
configuration management.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.DeviceInfo.transport_info">
<span class="sig-name descname"><span class="pre">transport_info</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.DeviceInfo.transport_info" title="Link to this definition"></a></dt>
<dd><p>Transport layer connection details.
Contains the transport type (SERIAL/TELNET), connection identifier
(COM port or IP address), and MAC address if applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo" title="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo">TransportProtocolInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.DeviceInfo.device_id">
<span class="sig-name descname"><span class="pre">device_id</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.DeviceInfo.device_id" title="Link to this definition"></a></dt>
<dd><p>Device model or family identifier.
Examples:
- “d-Drive”: Modular d-Drive piezo amplifier
- “NV200/D_NET”: Network-enabled NV200 compact amplifier
- “SPI Controller Box”: Multi-channel SPI controller
This field is None if device identification has not been performed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.DeviceInfo.extended_info">
<span class="sig-name descname"><span class="pre">extended_info</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.DeviceInfo.extended_info" title="Link to this definition"></a></dt>
<dd><p>Device-specific metadata dictionary.
Additional information that varies by device type. Common keys include:
- “actuator_name”: Model name of connected actuator (e.g., “PSH15SG_Y”)
- “actuator_serial”: Serial number of connected actuator
- “firmware_version”: Device firmware version string
- “channels”: Number of available channels
- “capabilities”: List of supported features
Empty dict if extended information was not requested during discovery.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">device_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected to </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2"> on </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">transport_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Actuator: </span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">extended_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;actuator_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Unknown&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.DeviceInfo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transport_info:</span> <span class="pre">~psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_info:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.DeviceInfo.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id59">
<span class="sig-name descname"><span class="pre">device_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id59" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id60">
<span class="sig-name descname"><span class="pre">extended_info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id60" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id61">
<span class="sig-name descname"><span class="pre">transport_info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo" title="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo"><span class="pre">TransportProtocolInfo</span></a></em><a class="headerlink" href="#id61" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SensorType</span></span><a class="reference internal" href="_modules/psj_lib/devices/base/piezo_types.html#SensorType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enumeration of position sensor types used in piezoelectric actuators.</p>
<p>Different actuator models use different sensor technologies for position feedback
in closed-loop control systems. The sensor type affects measurement accuracy,
resolution, and environmental sensitivity.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType.NONE" title="Link to this definition"></a></dt>
<dd><p>No position sensor present.
Actuator operates in open-loop mode only. Position control relies solely
on the voltage-displacement relationship of the piezo stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType.STRAIN_GAUGE">
<span class="sig-name descname"><span class="pre">STRAIN_GAUGE</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType.STRAIN_GAUGE" title="Link to this definition"></a></dt>
<dd><p>Strain gauge based position sensor.
Measures mechanical deformation. Good for compact designs but can be
less accurate and more environmentally sensitive than other sensor types.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType.CAPACITIVE">
<span class="sig-name descname"><span class="pre">CAPACITIVE</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType.CAPACITIVE" title="Link to this definition"></a></dt>
<dd><p>Capacitive position sensor.
Non-contact measurement with high resolution and excellent linearity.
Common in high-precision nanopositioning actuators.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType.INDUCTIVE">
<span class="sig-name descname"><span class="pre">INDUCTIVE</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType.INDUCTIVE" title="Link to this definition"></a></dt>
<dd><p>Inductive position sensor.
Measures position through electromagnetic induction. Robust against
environmental disturbances but typically lower resolution than capacitive.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.base.piezo_types.SensorType.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#psj_lib.devices.base.piezo_types.SensorType.UNKNOWN" title="Link to this definition"></a></dt>
<dd><p>Sensor type could not be determined.
Fallback value when sensor information is unavailable or unrecognized.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>99</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id62">
<span class="sig-name descname"><span class="pre">CAPACITIVE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id62" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id63">
<span class="sig-name descname"><span class="pre">INDUCTIVE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id63" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id64">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#id64" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id65">
<span class="sig-name descname"><span class="pre">STRAIN_GAUGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id65" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id66">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#id66" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class" id="module-psj_lib.devices.transport_protocol.transport_types">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DetectedDevice</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#DetectedDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Information about a device discovered during network or serial scanning.</p>
<p>This class represents a device that has been found during the discovery process.
It contains all the information needed to identify the device and establish a
connection. After discovery, this information can be used to create a device
instance and connect to it.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.transport">
<span class="sig-name descname"><span class="pre">transport</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.transport" title="Link to this definition"></a></dt>
<dd><p>The transport protocol type for this device.
Indicates whether the device was found via serial or network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType">TransportType</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.identifier">
<span class="sig-name descname"><span class="pre">identifier</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.identifier" title="Link to this definition"></a></dt>
<dd><p>Transport-specific connection identifier.
- For SERIAL: COM port or device path (e.g., “COM3”, “/dev/ttyUSB0”)
- For TELNET: IP address (e.g., “192.168.1.100”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.mac">
<span class="sig-name descname"><span class="pre">mac</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.mac" title="Link to this definition"></a></dt>
<dd><p>MAC address for network devices.
Only populated for TELNET transport. Used for unique device identification
in network environments. Format: “XX:XX:XX:XX:XX:XX”</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.device_id">
<span class="sig-name descname"><span class="pre">device_id</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.device_id" title="Link to this definition"></a></dt>
<dd><p>Device model identifier if detected.
Examples: “d-Drive”, “SPI Controller Box”
This is only available if device identification was requested during discovery.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.device_info">
<span class="sig-name descname"><span class="pre">device_info</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.device_info" title="Link to this definition"></a></dt>
<dd><p>Extended device information dictionary.
May contain keys such as:
- “actuator_name”: Connected actuator model
- “actuator_serial”: Actuator serial number
- “firmware_version”: Device firmware version
Only populated if DiscoverFlags.READ_DEVICE_INFO was used.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveDevice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">devices</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># &quot;Serial @ COM3 - d-Drive - {...}&quot;</span>
<span class="gp">... </span>    <span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">from_detected_device</span><span class="p">(</span><span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DetectedDevice.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType"><span class="pre">TransportType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mac</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DetectedDevice.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id67">
<span class="sig-name descname"><span class="pre">device_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id67" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id68">
<span class="sig-name descname"><span class="pre">identifier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id68" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id69">
<span class="sig-name descname"><span class="pre">mac</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id69" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id70">
<span class="sig-name descname"><span class="pre">transport</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType"><span class="pre">TransportType</span></a></em><a class="headerlink" href="#id70" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DeviceUnavailableException</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#DeviceUnavailableException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.DeviceUnavailableException" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.ProtocolException" title="psj_lib.devices.transport_protocol.transport_types.ProtocolException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtocolException</span></code></a></p>
<p>Exception raised when a device cannot be accessed or is unavailable.</p>
<p>This exception is typically raised when:
- A device cannot be found on the specified port or network address
- A device is physically disconnected during operation
- Network connectivity to a device is lost
- A serial port cannot be opened due to permissions or other issues</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s2">&quot;COM99&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">DeviceUnavailableException</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Device not found on COM99&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.ProtocolException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ProtocolException</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#ProtocolException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.ProtocolException" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base exception class for transport protocol communication errors.</p>
<p>This exception serves as the parent class for all protocol-related exceptions,
allowing users to catch any transport protocol error with a single except clause.</p>
<p>Raised when there are general communication errors that don’t fit into
more specific exception categories.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TimeoutException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeoutException</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#TimeoutException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TimeoutException" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.ProtocolException" title="psj_lib.devices.transport_protocol.transport_types.ProtocolException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtocolException</span></code></a></p>
<p>Exception raised when a communication operation times out.</p>
<p>This exception occurs when a read or write operation does not complete
within the specified timeout period. This typically indicates:
- The device is not responding
- The device is busy processing another command
- Communication interference or hardware issues
- Incorrect communication parameters</p>
<p>The default timeout for most operations is 0.6 seconds, but this can be
adjusted based on the specific operation and device response time.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransportProtocolInfo</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#TransportProtocolInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for transport protocol metadata and connection information.</p>
<p>This class encapsulates the essential information needed to identify and
describe a transport protocol connection to a device. It is used throughout
the library to pass connection information between discovery, connection,
and device management functions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.transport">
<span class="sig-name descname"><span class="pre">transport</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.transport" title="Link to this definition"></a></dt>
<dd><p>The type of transport protocol in use.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType">TransportType</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.identifier">
<span class="sig-name descname"><span class="pre">identifier</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.identifier" title="Link to this definition"></a></dt>
<dd><p>The connection identifier specific to the transport type.
- For SERIAL: COM port name (e.g., “COM3”, “/dev/ttyUSB0”)
- For TELNET: IP address (e.g., “192.168.1.100”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.mac">
<span class="sig-name descname"><span class="pre">mac</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.mac" title="Link to this definition"></a></dt>
<dd><p>MAC address of the device, if available and applicable.
Only relevant for network-connected devices (TELNET transport).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">TransportProtocolInfo</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">transport</span><span class="o">=</span><span class="n">TransportType</span><span class="o">.</span><span class="n">TELNET</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">identifier</span><span class="o">=</span><span class="s2">&quot;192.168.1.100&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">mac</span><span class="o">=</span><span class="s2">&quot;00:80:A3:12:34:56&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>  <span class="c1"># &quot;Telnet @ 192.168.1.100&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType"><span class="pre">TransportType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mac</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportProtocolInfo.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id71">
<span class="sig-name descname"><span class="pre">identifier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id71" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id72">
<span class="sig-name descname"><span class="pre">mac</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id72" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id73">
<span class="sig-name descname"><span class="pre">transport</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="psj_lib.devices.transport_protocol.transport_types.TransportType"><span class="pre">TransportType</span></a></em><a class="headerlink" href="#id73" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransportType</span></span><a class="reference internal" href="_modules/psj_lib/devices/transport_protocol/transport_types.html#TransportType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enumeration of supported transport layer protocols for device communication.</p>
<p>This enum defines the available methods for communicating with piezosystem jena
devices. Each transport type has its own characteristics, advantages, and use cases.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportType.TELNET">
<span class="sig-name descname"><span class="pre">TELNET</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportType.TELNET" title="Link to this definition"></a></dt>
<dd><p>Network communication via Telnet protocol (TCP/IP).
- Used for Ethernet-connected devices
- Supports remote operation over LAN/WAN
- Typical identifier: IP address (e.g., “192.168.1.100”)
- Default port: 23</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportType.SERIAL">
<span class="sig-name descname"><span class="pre">SERIAL</span></span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportType.SERIAL" title="Link to this definition"></a></dt>
<dd><p>Direct serial communication (RS-232/USB-Serial).
- Used for USB or RS-232 connected devices
- Lower latency than network communication
- Typical identifier: COM port (Windows) or /dev/ttyUSB* (Linux)
- Default baud rate: 115200</p>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connect via serial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s2">&quot;COM3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Connect via network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">TELNET</span><span class="p">,</span> <span class="s2">&quot;192.168.1.100&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id74">
<span class="sig-name descname"><span class="pre">SERIAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'serial'</span></em><a class="headerlink" href="#id74" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id75">
<span class="sig-name descname"><span class="pre">TELNET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'telnet'</span></em><a class="headerlink" href="#id75" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psj_lib.devices.transport_protocol.transport_types.TransportType.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psj_lib.devices.transport_protocol.transport_types.TransportType.__new__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<p><strong>Note</strong>: <code class="docutils literal notranslate"><span class="pre">TransportType</span></code>, <code class="docutils literal notranslate"><span class="pre">DiscoverFlags</span></code>, and <code class="docutils literal notranslate"><span class="pre">TransportProtocolInfo</span></code> are exported
from the main <code class="docutils literal notranslate"><span class="pre">psj_lib</span></code> module, not from <code class="docutils literal notranslate"><span class="pre">transport_protocol</span></code> directly.</p>
</section>
</section>
<section id="common-patterns">
<h2>Common Patterns<a class="headerlink" href="#common-patterns" title="Link to this heading"></a></h2>
<section id="device-creation">
<h3>Device Creation<a class="headerlink" href="#device-creation" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Direct instantiation (recommended)</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">DDriveDevice</span><span class="p">(</span><span class="n">TransportType</span><span class="o">.</span><span class="n">SERIAL</span><span class="p">,</span> <span class="s2">&quot;COM3&quot;</span><span class="p">)</span>

<span class="c1"># From discovery (devices are already instantiated)</span>
<span class="n">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="n">DDriveDevice</span><span class="o">.</span><span class="n">discover_devices</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Already a DDriveDevice instance</span>
</pre></div>
</div>
</section>
<section id="connection-management">
<h3>Connection Management<a class="headerlink" href="#connection-management" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Context manager (recommended)</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">device</span><span class="p">:</span>
    <span class="c1"># Use device</span>
    <span class="k">pass</span>

<span class="c1"># Manual</span>
<span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Use device</span>
    <span class="k">pass</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">device</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="channel-access">
<h3>Channel Access<a class="headerlink" href="#channel-access" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get all channels</span>
<span class="n">channels</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span>

<span class="c1"># Access by index</span>
<span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Iterate</span>
<span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
    <span class="c1"># Use channel</span>
    <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="capability-access">
<h3>Capability Access<a class="headerlink" href="#capability-access" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Capabilities are channel attributes</span>
<span class="n">position</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span>
<span class="n">setpoint</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">pid_controller</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">data_recorder</span>

<span class="c1"># Use capabilities</span>
<span class="k">await</span> <span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
<span class="k">await</span> <span class="n">pid</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="k">await</span> <span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeviceError</span><span class="p">,</span> <span class="n">DeviceUnavailableException</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">device</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>

<span class="k">except</span> <span class="n">DeviceUnavailableException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connection failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">except</span> <span class="n">DeviceError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="type-hints">
<h2>Type Hints<a class="headerlink" href="#type-hints" title="Link to this heading"></a></h2>
<p>psj-lib includes comprehensive type hints for IDE autocomplete:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">psj_lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">DDriveDevice</span><span class="p">,</span> <span class="n">TransportType</span><span class="p">,</span> <span class="n">Position</span><span class="p">,</span> <span class="n">PIDController</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">typed_function</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="n">DDriveDevice</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">channel</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># IDE provides autocomplete for all methods</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Position</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">position</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="k">await</span> <span class="n">position</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">value</span>
</pre></div>
</div>
</section>
<section id="async-patterns">
<h2>Async Patterns<a class="headerlink" href="#async-patterns" title="Link to this heading"></a></h2>
<section id="sequential-operations">
<h3>Sequential Operations<a class="headerlink" href="#sequential-operations" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Operations execute one after another</span>
<span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">30.0</span><span class="p">)</span>
<span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
<span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">70.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parallel-operations">
<h3>Parallel Operations<a class="headerlink" href="#parallel-operations" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Operations execute concurrently</span>
<span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
    <span class="n">channel1</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">30.0</span><span class="p">),</span>
    <span class="n">channel2</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">60.0</span><span class="p">),</span>
    <span class="n">channel3</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">90.0</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="timeouts">
<h3>Timeouts<a class="headerlink" href="#timeouts" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># With timeout</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="mf">5.0</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">setpoint</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="index">
<h2>Index<a class="headerlink" href="#index" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="base_capabilities.html" class="btn btn-neutral float-left" title="Base Capabilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, piezosystem Jena.
      <span class="lastupdated">Last updated on Jan 20, 2026 13:14.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>